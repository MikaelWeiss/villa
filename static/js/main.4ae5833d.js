/*! For license information please see main.4ae5833d.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),s=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case j:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var A=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},D=[],U=-1;function M(e){return{current:e}}function F(e){0>U||(e.current=D[U],D[U]=null,U--)}function q(e,t){U++,D[U]=e.current,e.current=t}var B,H,W=M(null),V=M(null),K=M(null),$=M(null);function J(e,t){switch(q(K,t),q(V,e),q(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(W),q(W,e)}function G(){F(W),F(V),F(K)}function Q(e){null!==e.memoizedState&&q($,e);var t=W.current,n=vd(t,e.type);t!==n&&(q(V,e),q(W,n))}function Y(e){V.current===e&&(F(W),F(V)),$.current===e&&(F($),uh._currentValue=L)}function X(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ie=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/ke|0)|0},xe=Math.log,ke=Math.LN2;var _e=256,je=262144,Se=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?a=Ne(r):0!==(i&=o)?a=Ne(i):n||0!==(n=o&~e)&&(a=Ne(n)):0!==(o=r&~s)?a=Ne(o):0!==i?a=Ne(i):n||0!==(n=r&~e)&&(a=Ne(n)),0===a?0:0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:a}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Oe(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ie(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ue(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:Nh(e.type)}function Me(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Fe=Math.random().toString(36).slice(2),qe="__reactFiber$"+Fe,Be="__reactProps$"+Fe,He="__reactContainer$"+Fe,We="__reactEvents$"+Fe,Ve="__reactListeners$"+Fe,Ke="__reactHandles$"+Fe,$e="__reactResources$"+Fe,Je="__reactMarker$"+Fe;function Ge(e){delete e[qe],delete e[Be],delete e[We],delete e[Ve],delete e[Ke]}function Qe(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ld(e);null!==e;){if(n=e[qe])return n;e=Ld(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[qe]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Je]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function lt(e,t,n){if(a=t,re.call(ot,a)||!re.call(it,a)&&(st.test(a)?ot[a]=!0:(it[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,a,s,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?wt(e,i,dt(t)):null!=n?wt(e,i,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=s&&(e.defaultChecked=!!s),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,a,s,i,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(A(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Nt(e,a,r)}else for(var s in t)t.hasOwnProperty(s)&&Nt(e,s,t[s])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var At=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Lt=null;function Dt(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Be]||null;if(!a)throw Error(i(90));vt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ut=!1;function Mt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==It||null!==Lt)&&(Zc(),It&&(t=It,e=Lt,Lt=It=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(qt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Yh){Bt=!1}var Wt=null,Vt=null,Kt=null;function $t(){if(Kt)return Kt;var e,t,n=Vt,r=n.length,a="value"in Wt?Wt.value:Wt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Yt(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Yt(tn),rn=f({},tn,{view:0,detail:0}),an=Yt(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Yt(sn),ln=Yt(f({},sn,{dataTransfer:0})),cn=Yt(f({},rn,{relatedTarget:0})),un=Yt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Yt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Yt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Yt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Yt(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Yt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Yt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Yt(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Yt(f({},tn,{newState:0,oldState:0})),jn=[9,13,27,32],Sn=qt&&"CompositionEvent"in window,Nn=null;qt&&"documentMode"in document&&(Nn=document.documentMode);var En=qt&&"TextEvent"in window&&!Nn,Cn=qt&&(!Sn||Nn&&8<Nn&&11>=Nn),Tn=String.fromCharCode(32),On=!1;function Pn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Ln(e,t,n,r){It?Lt?Lt.push(r):Lt=[r]:It=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Un=null;function Mn(e){Gu(e,0)}function Fn(e){if(pt(Xe(e)))return e}function qn(e,t){if("change"===e)return t}var Bn=!1;if(qt){var Hn;if(qt){var Wn="oninput"in document;if(!Wn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Wn="function"===typeof Vn.oninput}Hn=Wn}else Hn=!1;Bn=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){Dn&&(Dn.detachEvent("onpropertychange",$n),Un=Dn=null)}function $n(e){if("value"===e.propertyName&&Fn(Un)){var t=[];Ln(t,Un,e,zt(e)),Mt(Mn,t)}}function Jn(e,t,n){"focusin"===e?(Kn(),Un=n,(Dn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Kn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Un)}function Qn(e,t){if("click"===e)return Fn(t)}function Yn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Xn(e[a],t[a]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=qt&&"documentMode"in document&&11>=document.documentMode,ir=null,or=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ir||ir!==mt(r)||("selectionStart"in(r=ir)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rd(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}qt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),xr=mr("transitioncancel"),kr=mr("transitionend"),_r=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){_r.set(e,t),rt(t,[e])}jr.push("scrollEnd");var Nr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Er=[],Cr=0,Tr=0;function Or(){for(var e=Cr,t=Tr=Cr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var a=Er[t];Er[t++]=null;var s=Er[t];if(Er[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==s&&zr(n,a,s)}}function Pr(e,t,n,r){Er[Cr++]=e,Er[Cr++]=t,Er[Cr++]=n,Er[Cr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Pr(e,t,n,r),Ir(e)}function Ar(e,t){return Pr(e,null,null,t),Ir(e)}function zr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(a=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,a&&null!==t&&(a=31-we(n),null===(r=(e=s.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),s):null}function Ir(e){if(50<Wc)throw Wc=0,Vc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new Dr(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Ur(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,a,s){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Ur(31,n,t,a)).elementType=E,e.lanes=s,e;case y:return Hr(n.children,a,s,t);case v:o=8,a|=24;break;case b:return(e=Ur(12,n,t,2|a)).elementType=b,e.lanes=s,e;case _:return(e=Ur(13,n,t,a)).elementType=_,e.lanes=s,e;case j:return(e=Ur(19,n,t,a)).elementType=j,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case w:o=9;break e;case k:o=11;break e;case S:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Ur(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Hr(e,t,n,r){return(e=Ur(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Ur(6,e,null,t)).lanes=n,e}function Vr(e){var t=Ur(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Ur(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $r=new WeakMap;function Jr(e,t){if("object"===typeof e&&null!==e){var n=$r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},$r.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Gr=[],Qr=0,Yr=null,Xr=0,Zr=[],ea=0,ta=null,na=1,ra="";function aa(e,t){Gr[Qr++]=Xr,Gr[Qr++]=Yr,Yr=e,Xr=t}function sa(e,t,n){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,ta=e;var r=na;e=ra;var a=32-we(r)-1;r&=~(1<<a),n+=1;var s=32-we(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,na=1<<32-we(t)+a|n<<a|r,ra=s+e}else na=1<<s|n<<a|r,ra=e}function ia(e){null!==e.return&&(aa(e,1),sa(e,1,0))}function oa(e){for(;e===Yr;)Yr=Gr[--Qr],Gr[Qr]=null,Xr=Gr[--Qr],Gr[Qr]=null;for(;e===ta;)ta=Zr[--ea],Zr[ea]=null,ra=Zr[--ea],Zr[ea]=null,na=Zr[--ea],Zr[ea]=null}function la(e,t){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,na=t.id,ra=t.overflow,ta=e}var ca=null,ua=null,da=!1,ha=null,fa=!1,pa=Error(i(519));function ma(e){throw xa(Jr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pa}function ga(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[qe]=e,t[Be]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<$u.length;n++)Qu($u[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),_t(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||ma(e,!0)}function ya(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ca=ca.return}}function va(e){if(e!==ca)return!1;if(!da)return ya(e),da=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ua&&ma(e),ya(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ua=Id(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));ua=Id(e)}else 27===n?(n=ua,Nd(e.type)?(e=zd,zd=null,ua=e):ua=n):ua=ca?Ad(e.stateNode.nextSibling):null;return!0}function ba(){ua=ca=null,da=!1}function wa(){var e=ha;return null!==e&&(null===Oc?Oc=e:Oc.push.apply(Oc,e),ha=null),e}function xa(e){null===ha?ha=[e]:ha.push(e)}var ka=M(null),_a=null,ja=null;function Sa(e,t,n){q(ka,t._currentValue),t._currentValue=n}function Na(e){e._currentValue=ka.current,F(ka)}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s){var o=a.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ea(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ea(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ta(e,t,n,r){e=null;for(var a=t,s=!1;null!==a;){if(!s)if(0!==(524288&a.flags))s=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=a.type;Xn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===$.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}a=a.return}null!==e&&Ca(t,e,n,r),t.flags|=262144}function Oa(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){_a=e,ja=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ra(e){return za(_a,e)}function Aa(e,t){return null===_a&&Pa(e),za(e,t)}function za(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ja){if(null===e)throw Error(i(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return n}var Ia="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},La=r.unstable_scheduleCallback,Da=r.unstable_NormalPriority,Ua={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ma(){return{controller:new Ia,data:new Map,refCount:0}}function Fa(e){e.refCount--,0===e.refCount&&La(Da,function(){e.controller.abort()})}var qa=null,Ba=0,Ha=0,Wa=null;function Va(){if(0===--Ba&&null!==qa){null!==Wa&&(Wa.status="fulfilled");var e=qa;qa=null,Ha=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ka=z.S;z.S=function(e,t){Ac=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qa){var n=qa=[];Ba=0,Ha=Bu(),Wa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ba++,t.then(Va,Va)}(0,t),null!==Ka&&Ka(e,t)};var $a=M(null);function Ja(){var e=$a.current;return null!==e?e:pc.pooledCache}function Ga(e,t){q($a,null===t?$a.current:t.pool)}function Qa(){var e=Ja();return null===e?null:{parent:Ua._currentValue,pool:e}}var Ya=Error(i(460)),Xa=Error(i(474)),Za=Error(i(542)),es={then:function(){}};function ts(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ns(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw is(e=t.reason),e}throw as=t,Ya}}function rs(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw as=t,Ya;throw t}}var as=null;function ss(){if(null===as)throw Error(i(459));var e=as;return as=null,e}function is(e){if(e===Ya||e===Za)throw Error(i(483))}var os=null,ls=0;function cs(e){var t=ls;return ls+=1,null===os&&(os=[]),ns(os,e,t)}function us(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&rs(s)===t.type)?(us(t=a(t,n.props),n),t.return=e,t):(us(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return us(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case N:return h(e,t=rs(t),n)}if(A(t)||O(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,cs(t),n);if(t.$$typeof===x)return h(e,Aa(e,t),n);ds(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===a?c(e,t,n,r):null;case g:return n.key===a?u(e,t,n,r):null;case N:return f(e,t,n=rs(n),r)}if(A(n)||O(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,cs(n),r);if(n.$$typeof===x)return f(e,t,Aa(e,n),r);ds(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case N:return p(e,t,n,r=rs(r),a)}if(A(r)||O(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return p(e,t,n,cs(r),a);if(r.$$typeof===x)return p(e,t,n,Aa(t,r),a);ds(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&rs(b)===c.type){n(l,c.sibling),us(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(us(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return o(l);case N:return v(l,c,u=rs(u),d)}if(A(u))return function(a,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(a,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=s(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(a,d),da&&aa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return da&&aa(a,m),c}for(d=r(d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),da&&aa(a,m),c}(l,c,u,d);if(O(u)){if("function"!==typeof(b=O(u)))throw Error(i(150));return function(a,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(a,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(a,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(a,m),da&&aa(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(a,v.value,c))&&(o=s(v,o,g),null===d?u=v:d.sibling=v,d=v);return da&&aa(a,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),da&&aa(a,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,cs(u),d);if(u.$$typeof===x)return v(l,c,Aa(l,u),d);ds(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ls=0;var a=v(e,t,n,r);return os=null,a}catch(i){if(i===Ya||i===Za)throw i;var s=Ur(29,i,null,e.mode);return s.lanes=r,s.return=e,s}}}var fs=hs(!0),ps=hs(!1),ms=!1;function gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ys(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Ir(e),zr(e,null,n),t}return Pr(e,r,t,n),Ir(e)}function ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ze(e,n)}}function xs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ks=!1;function _s(){if(ks){if(null!==Wa)throw Wa}}function js(e,t,n,r){ks=!1;var a=e.updateQueue;ms=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(gc&h)===h:(r&h)===h){0!==h&&h===Ha&&(ks=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ms=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===s&&(a.shared.lanes=0),jc|=i,e.lanes=i,e.memoizedState=d}}function Ss(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Ns(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ss(n[e],t)}var Es=M(null),Cs=M(0);function Ts(e,t){q(Cs,e=kc),q(Es,t),kc=e|t.baseLanes}function Os(){q(Cs,kc),q(Es,Es.current)}function Ps(){kc=Cs.current,F(Es),F(Cs)}var Rs=M(null),As=null;function zs(e){var t=e.alternate;q(Ms,1&Ms.current),q(Rs,e),null===As&&(null===t||null!==Es.current||null!==t.memoizedState)&&(As=e)}function Is(e){q(Ms,Ms.current),q(Rs,e),null===As&&(As=e)}function Ls(e){22===e.tag?(q(Ms,Ms.current),q(Rs,e),null===As&&(As=e)):Ds()}function Ds(){q(Ms,Ms.current),q(Rs,Rs.current)}function Us(e){F(Rs),As===e&&(As=null),F(Ms)}var Ms=M(0);function Fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=0,Bs=null,Hs=null,Ws=null,Vs=!1,Ks=!1,$s=!1,Js=0,Gs=0,Qs=null,Ys=0;function Xs(){throw Error(i(321))}function Zs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function ei(e,t,n,r,a,s){return qs=s,Bs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=null===e||null===e.memoizedState?go:yo,$s=!1,s=n(r,a),$s=!1,Ks&&(s=ni(t,n,r,a)),ti(e),s}function ti(e){z.H=mo;var t=null!==Hs&&null!==Hs.next;if(qs=0,Ws=Hs=Bs=null,Vs=!1,Gs=0,Qs=null,t)throw Error(i(300));null===e||Ao||null!==(e=e.dependencies)&&Oa(e)&&(Ao=!0)}function ni(e,t,n,r){Bs=e;var a=0;do{if(Ks&&(Qs=null),Gs=0,Ks=!1,25<=a)throw Error(i(301));if(a+=1,Ws=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}z.H=vo,s=t(n,r)}while(Ks);return s}function ri(){var e=z.H,t=e.useState()[0];return t="function"===typeof t.then?ci(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(Bs.flags|=1024),t}function ai(){var e=0!==Js;return Js=0,e}function si(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ii(e){if(Vs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vs=!1}qs=0,Ws=Hs=Bs=null,Ks=!1,Gs=Js=0,Qs=null}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ws?Bs.memoizedState=Ws=e:Ws=Ws.next=e,Ws}function li(){if(null===Hs){var e=Bs.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Ws?Bs.memoizedState:Ws.next;if(null!==t)Ws=t,Hs=e;else{if(null===e){if(null===Bs.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Ws?Bs.memoizedState=Ws=e:Ws=Ws.next=e}return Ws}function ci(e){var t=Gs;return Gs+=1,null===Qs&&(Qs=[]),e=ns(Qs,e,t),t=Bs,null===(null===Ws?t.memoizedState:Ws.next)&&(t=t.alternate,z.H=null===t||null===t.memoizedState?go:yo),e}function ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ci(e);if(e.$$typeof===x)return Ra(e)}throw Error(i(438,String(e)))}function di(e){var t=null,n=Bs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function hi(e,t){return"function"===typeof t?t(e):t}function fi(e){return pi(li(),Hs,e)}function pi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,s=r.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}t.baseQueue=a=s,r.pending=null}if(s=e.baseState,null===a)e.memoizedState=s;else{var l=o=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(qs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ha&&(d=!0);else{if((qs&f)===f){u=u.next,f===Ha&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=s):c=c.next=h,Bs.lanes|=f,jc|=f}h=u.action,$s&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,Bs.lanes|=h,jc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Xn(s,e.memoizedState)&&(Ao=!0,d&&null!==(n=Wa)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mi(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);Xn(s,t.memoizedState)||(Ao=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function gi(e,t,n){var r=Bs,a=li(),s=da;if(s){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Xn((Hs||a).memoizedState,n);if(o&&(a.memoizedState=n,Ao=!0),a=a.queue,qi(bi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==Ws&&1&Ws.memoizedState.tag){if(r.flags|=2048,Li(9,{destroy:void 0},vi.bind(null,r,a,n,t),null),null===pc)throw Error(i(349));s||0!==(127&qs)||yi(r,t,n)}return n}function yi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vi(e,t,n,r){t.value=n,t.getSnapshot=r,wi(t)&&xi(e)}function bi(e,t,n){return n(function(){wi(t)&&xi(e)})}function wi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function xi(e){var t=Ar(e,2);null!==t&&Jc(t,e,2)}function ki(e){var t=oi();if("function"===typeof e){var n=e;if(e=n(),$s){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t}function _i(e,t,n,r){return e.baseState=n,pi(e,Hs,"function"===typeof r?r:hi)}function ji(e,t,n,r,a){if(ho(e))throw Error(i(485));if(null!==(e=t.action)){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==z.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Si(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Si(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var s=z.T,i={};z.T=i;try{var o=n(a,r),l=z.S;null!==l&&l(i,o),Ni(e,t,o)}catch(c){Ci(e,t,c)}finally{null!==s&&null!==i.types&&(s.types=i.types),z.T=s}}else try{Ni(e,t,s=n(a,r))}catch(u){Ci(e,t,u)}}function Ni(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ei(e,t,n)},function(n){return Ci(e,t,n)}):Ei(e,t,n)}function Ei(e,t,n){t.status="fulfilled",t.value=n,Ti(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Si(e,n)))}function Ci(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ti(t),t=t.next}while(t!==r)}e.action=null}function Ti(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oi(e,t){return t}function Pi(e,t){if(da){var n=pc.formState;if(null!==n){e:{var r=Bs;if(da){if(ua){t:{for(var a=ua,s=fa;8!==a.nodeType;){if(!s){a=null;break t}if(null===(a=Ad(a.nextSibling))){a=null;break t}}a="F!"===(s=a.data)||"F"===s?a:null}if(a){ua=Ad(a.nextSibling),r="F!"===a.data;break e}}ma(r)}r=!1}r&&(t=n[0])}}return(n=oi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n.queue=r,n=lo.bind(null,Bs,r),r.dispatch=n,r=ki(!1),s=uo.bind(null,Bs,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=oi()).queue=a,n=ji.bind(null,Bs,a,s,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ri(e){return Ai(li(),Hs,e)}function Ai(e,t,n){if(t=pi(e,t,Oi)[0],e=fi(hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ci(t)}catch(i){if(i===Ya)throw Za;throw i}else r=t;var a=(t=li()).queue,s=a.dispatch;return n!==t.memoizedState&&(Bs.flags|=2048,Li(9,{destroy:void 0},zi.bind(null,a,n),null)),[r,s,e]}function zi(e,t){e.action=t}function Ii(e){var t=li(),n=Hs;if(null!==n)return Ai(t,n,e);li(),t=t.memoizedState;var r=(n=li()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Li(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Di(){return li().memoizedState}function Ui(e,t,n,r){var a=oi();Bs.flags|=e,a.memoizedState=Li(1|t,{destroy:void 0},n,void 0===r?null:r)}function Mi(e,t,n,r){var a=li();r=void 0===r?null:r;var s=a.memoizedState.inst;null!==Hs&&null!==r&&Zs(r,Hs.memoizedState.deps)?a.memoizedState=Li(t,s,n,r):(Bs.flags|=e,a.memoizedState=Li(1|t,s,n,r))}function Fi(e,t){Ui(8390656,8,e,t)}function qi(e,t){Mi(2048,8,e,t)}function Bi(e){var t=li().memoizedState;return function(e){Bs.flags|=4;var t=Bs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Hi(e,t){return Mi(4,2,e,t)}function Wi(e,t){return Mi(4,4,e,t)}function Vi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ki(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4,4,Vi.bind(null,t,e),n)}function $i(){}function Ji(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Zs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gi(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Zs(t,r[1]))return r[0];if(r=e(),$s){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Qi(e,t,n){return void 0===n||0!==(1073741824&qs)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=$c(),Bs.lanes|=e,jc|=e,n)}function Yi(e,t,n,r){return Xn(n,t)?n:null!==Es.current?(e=Qi(e,n,r),Xn(e,t)||(Ao=!0),e):0===(42&qs)||0!==(1073741824&qs)&&0===(261930&gc)?(Ao=!0,e.memoizedState=n):(e=$c(),Bs.lanes|=e,jc|=e,t)}function Xi(e,t,n,r,a){var s=I.p;I.p=0!==s&&8>s?s:8;var i=z.T,o={};z.T=o,uo(e,!1,t,n);try{var l=a(),c=z.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)co(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else co(e,t,r,Kc())}catch(u){co(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{I.p=s,null!==i&&null!==o.types&&(i.types=o.types),z.T=i}}function Zi(){}function eo(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=to(e).queue;Xi(e,a,t,L,null===n?Zi:function(){return no(e),n(r)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function no(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Kc())}function ro(){return Ra(uh)}function ao(){return li().memoizedState}function so(){return li().memoizedState}function io(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=bs(t,e=vs(n),n);return null!==r&&(Jc(r,t,n),ws(r,t,n)),t={cache:Ma()},void(e.payload=t)}t=t.return}}function oo(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ho(e)?fo(t,n):null!==(n=Rr(e,t,n,r))&&(Jc(n,e,r),po(n,t,r))}function lo(e,t,n){co(e,t,n,Kc())}function co(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ho(e))fo(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,Xn(o,i))return Pr(e,t,a,0),null===pc&&Or(),!1}catch(l){}if(null!==(n=Rr(e,t,a,r)))return Jc(n,e,r),po(n,t,r),!0}return!1}function uo(e,t,n,r){if(r={lane:2,revertLane:Bu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(t)throw Error(i(479))}else null!==(t=Rr(e,n,r,2))&&Jc(t,e,2)}function ho(e){var t=e.alternate;return e===Bs||null!==t&&t===Bs}function fo(e,t){Ks=Vs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function po(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ze(e,n)}}var mo={readContext:Ra,use:ui,useCallback:Xs,useContext:Xs,useEffect:Xs,useImperativeHandle:Xs,useLayoutEffect:Xs,useInsertionEffect:Xs,useMemo:Xs,useReducer:Xs,useRef:Xs,useState:Xs,useDebugValue:Xs,useDeferredValue:Xs,useTransition:Xs,useSyncExternalStore:Xs,useId:Xs,useHostTransitionStatus:Xs,useFormState:Xs,useActionState:Xs,useOptimistic:Xs,useMemoCache:Xs,useCacheRefresh:Xs};mo.useEffectEvent=Xs;var go={readContext:Ra,use:ui,useCallback:function(e,t){return oi().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Fi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ui(4194308,4,Vi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){Ui(4,2,e,t)},useMemo:function(e,t){var n=oi();t=void 0===t?null:t;var r=e();if($s){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=oi();if(void 0!==n){var a=n(t);if($s){be(!0);try{n(t)}finally{be(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=oo.bind(null,Bs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},oi().memoizedState=e},useState:function(e){var t=(e=ki(e)).queue,n=lo.bind(null,Bs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:$i,useDeferredValue:function(e,t){return Qi(oi(),e,t)},useTransition:function(){var e=ki(!1);return e=Xi.bind(null,Bs,e.queue,!0,!1),oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Bs,a=oi();if(da){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===pc)throw Error(i(349));0!==(127&gc)||yi(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Fi(bi.bind(null,r,s,e),[e]),r.flags|=2048,Li(9,{destroy:void 0},vi.bind(null,r,s,n,t),null),n},useId:function(){var e=oi(),t=pc.identifierPrefix;if(da){var n=ra;t="_"+t+"R_"+(n=(na&~(1<<32-we(na)-1)).toString(32)+n),0<(n=Js++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ys++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ro,useFormState:Pi,useActionState:Pi,useOptimistic:function(e){var t=oi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uo.bind(null,Bs,!0,n),n.dispatch=t,[e,t]},useMemoCache:di,useCacheRefresh:function(){return oi().memoizedState=io.bind(null,Bs)},useEffectEvent:function(e){var t=oi(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Ra,use:ui,useCallback:Ji,useContext:Ra,useEffect:qi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Wi,useMemo:Gi,useReducer:fi,useRef:Di,useState:function(){return fi(hi)},useDebugValue:$i,useDeferredValue:function(e,t){return Yi(li(),Hs.memoizedState,e,t)},useTransition:function(){var e=fi(hi)[0],t=li().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:gi,useId:ao,useHostTransitionStatus:ro,useFormState:Ri,useActionState:Ri,useOptimistic:function(e,t){return _i(li(),0,e,t)},useMemoCache:di,useCacheRefresh:so};yo.useEffectEvent=Bi;var vo={readContext:Ra,use:ui,useCallback:Ji,useContext:Ra,useEffect:qi,useImperativeHandle:Ki,useInsertionEffect:Hi,useLayoutEffect:Wi,useMemo:Gi,useReducer:mi,useRef:Di,useState:function(){return mi(hi)},useDebugValue:$i,useDeferredValue:function(e,t){var n=li();return null===Hs?Qi(n,e,t):Yi(n,Hs.memoizedState,e,t)},useTransition:function(){var e=mi(hi)[0],t=li().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:gi,useId:ao,useHostTransitionStatus:ro,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){var n=li();return null!==Hs?_i(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:di,useCacheRefresh:so};function bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vo.useEffectEvent=Bi;var wo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=vs(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=bs(e,a,r))&&(Jc(t,e,r),ws(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),a=vs(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=bs(e,a,r))&&(Jc(t,e,r),ws(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=vs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bs(e,r,n))&&(Jc(t,e,n),ws(t,e,n))}};function xo(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(a,s))}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function _o(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=f({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function jo(e){Nr(e)}function So(e){console.error(e)}function No(e){Nr(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Co(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function To(e,t,n){return(n=vs(n)).tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function Oo(e){return(e=vs(e)).tag=3,e}function Po(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var s=r.value;e.payload=function(){return a(s)},e.callback=function(){Co(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Co(t,n,r),"function"!==typeof a&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ro=Error(i(461)),Ao=!1;function zo(e,t,n,r){t.child=null===e?ps(t,null,n,r):fs(t,e.child,n,r)}function Io(e,t,n,r,a){n=n.render;var s=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Pa(t),r=ei(e,t,n,i,s,a),o=ai(),null===e||Ao?(da&&o&&ia(t),t.flags|=1,zo(e,t,r,a),t.child):(si(e,t,a),al(e,t,a))}function Lo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Mr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Do(e,t,s,r,a))}if(s=e.child,!sl(e,a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(i,r)&&e.ref===t.ref)return al(e,t,a)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(Zn(s,r)&&e.ref===t.ref){if(Ao=!1,t.pendingProps=r=s,!sl(e,a))return t.lanes=e.lanes,al(e,t,a);0!==(131072&e.flags)&&(Ao=!0)}}return Wo(e,t,n,r,a)}function Uo(e,t,n,r){var a=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~s}else r=0,t.child=null;return Fo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Fo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ga(0,null!==s?s.cachePool:null),null!==s?Ts(t,s):Os(),Ls(t)}else null!==s?(Ga(0,s.cachePool),Ts(t,s),Ds(),t.memoizedState=null):(null!==e&&Ga(0,null),Os(),Ds());return zo(e,t,a,n),t.child}function Mo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fo(e,t,n,r,a){var s=Ja();return s=null===s?null:{parent:Ua._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Ga(0,null),Os(),Ls(t),null!==e&&Ta(e,t,r,!0),t.childLanes=a,null}function qo(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bo(e,t,n){return fs(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Us(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wo(e,t,n,r,a){return Pa(t),n=ei(e,t,n,r,void 0,a),r=ai(),null===e||Ao?(da&&r&&ia(t),t.flags|=1,zo(e,t,n,a),t.child):(si(e,t,a),al(e,t,a))}function Vo(e,t,n,r,a,s){return Pa(t),t.updateQueue=null,n=ni(t,r,n,a),ti(e),r=ai(),null===e||Ao?(da&&r&&ia(t),t.flags|=1,zo(e,t,n,s),t.child):(si(e,t,s),al(e,t,s))}function Ko(e,t,n,r,a){if(Pa(t),null===t.stateNode){var s=Lr,i=n.contextType;"object"===typeof i&&null!==i&&(s=Ra(i)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=wo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},gs(t),i=n.contextType,s.context="object"===typeof i&&null!==i?Ra(i):Lr,s.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(bo(t,n,i,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(i=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&wo.enqueueReplaceState(s,s.state,null),js(t,r,s,a),_s(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=_o(n,o);s.props=l;var c=s.context,u=n.contextType;i=Lr,"object"===typeof u&&null!==u&&(i=Ra(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==i)&&ko(t,s,r,i),ms=!1;var h=t.memoizedState;s.state=h,js(t,r,s,a),_s(),c=t.memoizedState,o||h!==c||ms?("function"===typeof d&&(bo(t,n,d,r),c=t.memoizedState),(l=ms||xo(t,n,l,r,h,c,i))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=i,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ys(e,t),u=_o(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=Ra(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||h!==l)&&ko(t,s,r,l),ms=!1,h=t.memoizedState,s.state=h,js(t,r,s,a),_s();var f=t.memoizedState;i!==d||h!==f||ms||null!==e&&null!==e.dependencies&&Oa(e.dependencies)?("function"===typeof o&&(bo(t,n,o,r),f=t.memoizedState),(u=ms||xo(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Oa(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ho(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=fs(t,e.child,null,a),t.child=fs(t,null,n,a)):zo(e,t,n,a),t.memoizedState=s.state,e=t.child):e=al(e,t,a),e}function $o(e,t,n,r){return ba(),t.flags|=256,zo(e,t,n,r),t.child}var Jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Go(e){return{baseLanes:e,cachePool:Qa()}}function Qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function Yo(e,t,n){var r,a=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ms.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(da){if(s?zs(t):Ds(),(e=ua)?null!==(e=null!==(e=Od(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ca=t,ua=null):e=null,null===e)throw ma(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,s?(Ds(),l=Zo({mode:"hidden",children:l},s=t.mode),a=Hr(a,s,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Go(n),a.childLanes=Qo(e,r,n),t.memoizedState=Jo,Mo(null,a)):(zs(t),Xo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(zs(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Ds(),t.child=e.child,t.flags|=128,t=null):(Ds(),l=a.fallback,s=t.mode,a=Zo({mode:"visible",children:a.children},s),(l=Hr(l,s,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,fs(t,e.child,null,n),(a=t.child).memoizedState=Go(n),a.childLanes=Qo(e,r,n),t.memoizedState=Jo,t=Mo(null,a));else if(zs(t),Rd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(i(419))).stack="",a.digest=r,xa({value:a,source:null,stack:null}),t=el(e,t,n)}else if(Ao||Ta(e,t,n,!1),r=0!==(n&e.childLanes),Ao||r){if(null!==(r=pc)&&(0!==(a=Ie(r,n))&&a!==c.retryLane))throw c.retryLane=a,Ar(e,a),Jc(r,e,a),Ro;Pd(l)||iu(),t=el(e,t,n)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ua=Ad(l.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Xo(t,a.children)).flags|=4096);return t}return s?(Ds(),l=a.fallback,s=t.mode,u=(c=e.child).sibling,(a=Fr(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Fr(u,l):(l=Hr(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Mo(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Go(n):(null!==(s=l.cachePool)?(c=Ua._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Qa(),l={baseLanes:l.baseLanes|n,cachePool:s}),a.memoizedState=l,a.childLanes=Qo(e,r,n),t.memoizedState=Jo,Mo(e.child,a)):(zs(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xo(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=Ur(22,e,null,t)).lanes=0,e}function el(e,t,n){return fs(t,e.child,null,n),(e=Xo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function nl(e,t,n,r,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=s)}function rl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;r=r.children;var i=Ms.current,o=0!==(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,q(Ms,i),zo(e,t,r,n),r=da?Xr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Fs(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),nl(t,!1,a,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Fs(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}nl(t,!0,n,null,s,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ta(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Oa(e))}function il(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ao=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Ao=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),Sa(0,Ua,e.memoizedState.cache),ba();break;case 27:case 5:Q(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:Sa(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Is(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(zs(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Yo(e,t,n):(zs(t),null!==(e=al(e,t,n))?e.sibling:null);zs(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ta(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return rl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),q(Ms,Ms.current),r)break;return null;case 22:return t.lanes=0,Uo(e,t,n,t.pendingProps);case 24:Sa(0,Ua,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Ao=0!==(131072&e.flags)}else Ao=!1,da&&0!==(1048576&t.flags)&&sa(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=rs(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===k){t.tag=11,t=Io(null,t,e,r,n);break e}if(a===S){t.tag=14,t=Lo(null,t,e,r,n);break e}}throw t=R(e)||e,Error(i(306,t,""))}Mr(e)?(r=_o(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Wo(null,t,e,r,n))}return t;case 0:return Wo(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,a=_o(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var s=t.memoizedState;a=s.element,ys(e,t),js(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Sa(0,Ua,r),r!==s.cache&&Ca(t,[Ua],n,!0),_s(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=$o(e,t,r,n);break e}if(r!==a){xa(a=Jr(Error(i(424)),t)),t=$o(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ua=Ad(e.firstChild),ca=t,da=!0,ha=null,fa=!0,n=ps(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ba(),r===a){t=al(e,t,n);break e}zo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Vd(t.type,null,t.pendingProps,null))?t.memoizedState=n:da||(n=t.type,e=t.pendingProps,(r=gd(K.current).createElement(n))[qe]=t,r[Be]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&da&&(r=t.stateNode=Dd(t.type,t.pendingProps,K.current),ca=t,fa=!0,a=ua,Nd(t.type)?(zd=a,ua=Ad(r.firstChild)):ua=a),zo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&da&&((a=r=ua)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===s)return e}if(null===(e=Ad(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fa))?(t.stateNode=r,ca=t,ua=Ad(r.firstChild),fa=!1,a=!0):a=!1),a||ma(t)),Q(t),a=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,bd(a,s)?r=null:null!==o&&bd(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=ei(e,t,ri,null,null,n),uh._currentValue=a),Ho(e,t),zo(e,t,r,n),t.child;case 6:return null===e&&da&&((e=n=ua)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ad(e.nextSibling)))return null}return e}(n,t.pendingProps,fa))?(t.stateNode=n,ca=t,ua=null,e=!0):e=!1),e||ma(t)),null;case 13:return Yo(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fs(t,null,r,n):zo(e,t,r,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return zo(e,t,t.pendingProps,n),t.child;case 8:case 12:return zo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Sa(0,t.type,r.value),zo(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Pa(t),r=r(a=Ra(a)),t.flags|=1,zo(e,t,r,n),t.child;case 14:return Lo(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(da){if("hidden"===r.mode)return e=qo(t,r),t.lanes=536870912,Mo(null,e);if(Is(t),(e=ua)?null!==(e=null!==(e=Od(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ca=t,ua=null):e=null,null===e)throw ma(t);return t.lanes=536870912,null}return qo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Is(t),a)if(256&t.flags)t.flags&=-257,t=Bo(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Ao||Ta(e,t,n,!1),a=0!==(n&e.childLanes),Ao||a){if(null!==(r=pc)&&0!==(o=Ie(r,n))&&o!==s.retryLane)throw s.retryLane=o,Ar(e,o),Jc(r,e,o),Ro;iu(),t=Bo(e,t,n)}else e=s.treeContext,ua=Ad(o.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=qo(t,r)).flags|=4096;return t}return(e=Fr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Uo(e,t,n,t.pendingProps);case 24:return Pa(t),r=Ra(Ua),null===e?(null===(a=Ja())&&(a=pc,s=Ma(),a.pooledCache=s,s.refCount++,null!==s&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:r,cache:a},gs(t),Sa(0,Ua,a)):(0!==(e.lanes&n)&&(ys(e,t),js(t,null,null,n),_s()),a=e.memoizedState,s=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Sa(0,Ua,r)):(r=s.cache,Sa(0,Ua,r),r!==a.cache&&Ca(t,[Ua],n,!0))),zo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw as=es,Xa;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!ru())throw as=es,Xa;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,Cc|=t)}function dl(e,t){if(!da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(oa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Na(Ua),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(va(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wa())),hl(t),null;case 26:var a=t.type,s=t.memoizedState;return null===e?(ol(t),null!==s?(hl(t),cl(t,s)):(hl(t),ll(t,a,0,0,n))):s?s!==e.memoizedState?(ol(t),hl(t),cl(t,s)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ol(t),hl(t),ll(t,a,0,0,n)),null;case 27:if(Y(t),n=K.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hl(t),null}e=W.current,va(t)?ga(t):(e=Dd(a,r,n),t.stateNode=e,ol(t))}return hl(t),null;case 5:if(Y(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hl(t),null}if(s=W.current,va(t))ga(t);else{var o=gd(K.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(a,{is:r.is}):o.createElement(a)}}s[qe]=t,s[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(hd(s,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ol(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=K.current,va(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ca))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||ma(t,!0)}else(e=gd(e).createTextNode(r))[qe]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=va(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[qe]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=wa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Us(t),t):(Us(t),null);if(0!==(128&t.flags))throw Error(i(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=va(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[qe]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),a=!1}else a=wa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Us(t),t):(Us(t),null)}return Us(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return G(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return Na(t.type),hl(t),null;case 19:if(F(Ms),null===(r=t.memoizedState))return hl(t),null;if(a=0!==(128&t.flags),null===(s=r.rendering))if(a)dl(r,!1);else{if(0!==_c||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Fs(e))){for(t.flags|=128,dl(r,!1),e=s.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qr(n,e),n=n.sibling;return q(Ms,1&Ms.current|2),da&&aa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>zc&&(t.flags|=128,a=!0,dl(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Fs(s))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!da)return hl(t),null}else 2*le()-r.renderingStartTime>zc&&536870912!==n&&(t.flags|=128,a=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Ms.current,q(Ms,a?1&n|2:1&n),da&&aa(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Us(t),Ps(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F($a),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Na(Ua),hl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function pl(e,t){switch(oa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Na(Ua),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Us(t),null===t.alternate)throw Error(i(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Ms),null;case 4:return G(),null;case 10:return Na(t.type),null;case 22:case 23:return Us(t),Ps(),null!==e&&F($a),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Na(Ua),null;default:return null}}function ml(e,t){switch(oa(t),t.tag){case 3:Na(Ua),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 31:null!==t.memoizedState&&Us(t);break;case 13:Us(t);break;case 19:F(Ms);break;case 10:Na(t.type);break;case 22:case 23:Us(t),Ps(),null!==e&&F($a);break;case 24:Na(Ua)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var s=n.create,i=n.inst;r=s(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){_u(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var s=a.next;r=s;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(u){_u(a,l,u)}}}r=r.next}while(r!==s)}}catch(u){_u(t,t.return,u)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ns(t,n)}catch(r){_u(e,e.return,r)}}}function bl(e,t,n){n.props=_o(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_u(e,t,r)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){_u(e,t,a)}}function xl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){_u(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){_u(e,t,s)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){_u(e,e.return,a)}}function _l(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||ud(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":s=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&ud(e,t,f,p,r,h)}}return void vt(e,o,l,c,u,d,s,a);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||ud(e,t,s,null,r,c)}for(a in r)if(s=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=s||null!=c))switch(a){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&ud(e,t,a,s,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,a)}for(o in r)if(a=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=a||null!=s))switch(o){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==s&&ud(e,t,o,a,r,s)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:ud(e,t,u,f,r,p)}return;default:if(Ct(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&ud(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(a){_u(e,e.return,a)}}function jl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Nd(e.type)||4===e.tag}function Sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||jl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Nd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Nl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Nd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Nl(e,t,n),e=e.sibling;null!==e;)Nl(e,t,n),e=e.sibling}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Nd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Cl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);hd(t,r,n),t[qe]=e,t[Be]=n}catch(s){_u(e,e.return,s)}}var Tl=!1,Ol=!1,Pl=!1,Rl="function"===typeof WeakSet?WeakSet:Set,Al=null;function zl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Jl(e,n),4&r&&gl(5,n);break;case 1:if(Jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){_u(n,n.return,i)}else{var a=_o(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){_u(n,n.return,o)}}64&r&&vl(n),512&r&&wl(n,n.return);break;case 3:if(Jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ns(e,t)}catch(i){_u(n,n.return,i)}}break;case 27:null===t&&4&r&&Cl(n);case 26:case 5:Jl(e,n),null===t&&4&r&&kl(n),512&r&&wl(n,n.return);break;case 12:Jl(e,n);break;case 31:Jl(e,n),4&r&&Fl(e,n);break;case 13:Jl(e,n),4&r&&ql(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Eu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Tl)){t=null!==t&&null!==t.memoizedState||Ol,a=Tl;var s=Ol;Tl=r,(Ol=t)&&!s?Ql(e,n,0!==(8772&n.subtreeFlags)):Jl(e,n),Tl=a,Ol=s}break;case 30:break;default:Jl(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ll=null,Dl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Ml(e,t,n),n=n.sibling}function Ml(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Ol||xl(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ol||xl(n,t);var r=Ll,a=Dl;Nd(n.type)&&(Ll=n.stateNode,Dl=!1),Ul(e,t,n),Ud(n.stateNode),Ll=r,Dl=a;break;case 5:Ol||xl(n,t);case 6:if(r=Ll,a=Dl,Ll=null,Ul(e,t,n),Dl=a,null!==(Ll=r))if(Dl)try{(9===Ll.nodeType?Ll.body:"HTML"===Ll.nodeName?Ll.ownerDocument.body:Ll).removeChild(n.stateNode)}catch(i){_u(n,t,i)}else try{Ll.removeChild(n.stateNode)}catch(i){_u(n,t,i)}break;case 18:null!==Ll&&(Dl?(Ed(9===(e=Ll).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):Ed(Ll,n.stateNode));break;case 4:r=Ll,a=Dl,Ll=n.stateNode.containerInfo,Dl=!0,Ul(e,t,n),Ll=r,Dl=a;break;case 0:case 11:case 14:case 15:yl(2,n,t),Ol||yl(4,n,t),Ul(e,t,n);break;case 1:Ol||(xl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Ol=(r=Ol)||null!==n.memoizedState,Ul(e,t,n),Ol=r;break;default:Ul(e,t,n)}}function Fl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(n){_u(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(n){_u(t,t.return,n)}}function Bl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Cu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Nd(l.type)){Ll=l.stateNode,Dl=!1;break e}break;case 5:Ll=l.stateNode,Dl=!1;break e;case 3:case 4:Ll=l.stateNode.containerInfo,Dl=!0;break e}l=l.return}if(null===Ll)throw Error(i(160));Ml(s,o,a),Ll=null,Dl=!1,null!==(s=a.alternate)&&(s.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vl(t,e),t=t.sibling}var Wl=null;function Vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&r&&(yl(3,e,e.return),gl(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&r&&(Ol||null===n||xl(n,n.return)),64&r&&Tl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Wl;if(Hl(t,e),Kl(e),512&r&&(Ol||null===n||xl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(s=a.getElementsByTagName("title")[0])||s[Je]||s[qe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=a.createElement(r),a.head.insertBefore(s,a.querySelector("head > title"))),hd(s,r,n),s[qe]=e,et(s),r=s;break e;case"link":var o=nh("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}hd(s=a.createElement(r),r,n),a.head.appendChild(s);break;case"meta":if(o=nh("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}hd(s=a.createElement(r),r,n),a.head.appendChild(s);break;default:throw Error(i(468,r))}s[qe]=e,et(s),r=s}e.stateNode=r}else rh(a,e.type,e.stateNode);else e.stateNode=Yd(a,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?rh(a,e.type,e.stateNode):Yd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&r&&(Ol||null===n||xl(n,n.return)),null!==n&&4&r&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&r&&(Ol||null===n||xl(n,n.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(m){_u(e,e.return,m)}}4&r&&null!=e.stateNode&&_l(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Pl=!0);break;case 6:if(Hl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){_u(e,e.return,m)}}break;case 3:if(th=null,a=Wl,Wl=qd(t.containerInfo),Hl(t,e),Wl=a,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(m){_u(e,e.return,m)}Pl&&(Pl=!1,$l(e));break;case 4:r=Wl,Wl=qd(e.stateNode.containerInfo),Hl(t,e),Kl(e),Wl=r;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Tl,d=Ol;if(Tl=u||a,Ol=d||c,Hl(t,e),Ol=d,Tl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Tl||Ol||Gl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,a)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){_u(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){_u(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;a?Cd(p,!0):Cd(c.stateNode,!1)}catch(m){_u(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Bl(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(jl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;El(e,Sl(e),a);break;case 5:var s=n.stateNode;32&n.flags&&(jt(s,""),n.flags&=-33),El(e,Sl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Nl(e,Sl(e),o);break;default:throw Error(i(161))}}catch(l){_u(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function $l(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;$l(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)zl(e,t.alternate,t),t=t.sibling}function Gl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Gl(t);break;case 1:xl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Gl(t);break;case 27:Ud(t.stateNode);case 26:case 5:xl(t,t.return),Gl(t);break;case 22:null===t.memoizedState&&Gl(t);break;default:Gl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Ql(a,s,n),gl(4,s);break;case 1:if(Ql(a,s,n),"function"===typeof(a=(r=s).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){_u(r,r.return,c)}if(null!==(a=(r=s).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Ss(l[a],o)}catch(c){_u(r,r.return,c)}}n&&64&i&&vl(s),wl(s,s.return);break;case 27:Cl(s);case 26:case 5:Ql(a,s,n),n&&null===r&&4&i&&kl(s),wl(s,s.return);break;case 12:Ql(a,s,n);break;case 31:Ql(a,s,n),n&&4&i&&Fl(a,s);break;case 13:Ql(a,s,n),n&&4&i&&ql(a,s);break;case 22:null===s.memoizedState&&Ql(a,s,n),wl(s,s.return);break;case 30:break;default:Ql(a,s,n)}t=t.sibling}}function Yl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fa(n))}function Xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&a&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e)));break;case 12:if(2048&a){Zl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_u(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Zl(e,t,n,r):nc(e,t):2&s._visibility?Zl(e,t,n,r):(s._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Yl(i,t);break;case 24:Zl(e,t,n,r),2048&a&&Xl(t.alternate,t)}}function tc(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,i=t,o=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:tc(s,i,o,l,a),gl(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?tc(s,i,o,l,a):nc(s,i):(u._visibility|=2,tc(s,i,o,l,a)),a&&2048&c&&Yl(i.alternate,i);break;case 24:tc(s,i,o,l,a),a&&2048&c&&Xl(i.alternate,i);break;default:tc(s,i,o,l,a)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:nc(n,r),2048&a&&Yl(r.alternate,r);break;case 24:nc(n,r),2048&a&&Xl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ac(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=Kd(r.href),s=t.querySelector($d(a));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ih.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=Jd(r),(a=Md.get(a))&&Zd(r,a),et(s=s.createElement("link"));var i=s;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),hd(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ih.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Wl;Wl=qd(e.stateNode.containerInfo),ac(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ac(e,t,n),rc=r):ac(e,t,n))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Al=r,uc(r,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Al=r,uc(r,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Al;){var n=Al;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Al=r;else e:for(n=e;null!==Al;){var a=(r=Al).sibling,s=r.return;if(Il(r),r===n){Al=null;break e}if(null!==a){a.return=s,Al=a;break e}Al=s}}}var dc={getCacheForType:function(e){var t=Ra(Ua),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ra(Ua).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,yc=0,vc=null,bc=!1,wc=!1,xc=!1,kc=0,_c=0,jc=0,Sc=0,Nc=0,Ec=0,Cc=0,Tc=null,Oc=null,Pc=!1,Rc=0,Ac=0,zc=1/0,Ic=null,Lc=null,Dc=0,Uc=null,Mc=null,Fc=0,qc=0,Bc=null,Hc=null,Wc=0,Vc=null;function Kc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==z.T?Bu():Ue()}function $c(){if(0===Ec)if(0===(536870912&gc)||da){var e=je;0===(3932160&(je<<=1))&&(je=262144),Ec=e}else Ec=536870912;return null!==(e=Rs.current)&&(e.flags|=32),Ec}function Jc(e,t,n){(e!==pc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(tu(e,0),Xc(e,gc,Ec,!1)),Re(e,n),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(Sc|=n),4===_c&&Xc(e,gc,Ec,!1)),Iu(e))}function Gc(e,t,n){if(0!==(6&fc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ce(e,t),a=r?function(e,t){var n=fc;fc|=2;var r=au(),a=su();pc!==e||gc!==t?(Ic=null,zc=le()+500,tu(e,t)):wc=Ce(e,t);e:for(;;)try{if(0!==yc&&null!==mc){t=mc;var s=vc;t:switch(yc){case 1:yc=0,vc=null,hu(e,t,s,1);break;case 2:case 9:if(ts(s)){yc=0,vc=null,du(t);break}t=function(){2!==yc&&9!==yc||pc!==e||(yc=7),Iu(e)},s.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:ts(s)?(yc=0,vc=null,du(t)):(yc=0,vc=null,hu(e,t,s,7));break;case 5:var o=null;switch(mc.tag){case 26:o=mc.memoizedState;case 5:case 27:var l=mc;if(o?ah(o):l.stateNode.complete){yc=0,vc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}yc=0,vc=null,hu(e,t,s,5);break;case 6:yc=0,vc=null,hu(e,t,s,6);break;case 8:eu(),_c=6;break e;default:throw Error(i(462))}}cu();break}catch(d){nu(e,d)}return ja=_a=null,z.H=r,z.A=a,fc=n,null!==mc?0:(pc=null,gc=0,Or(),_c)}(e,t):ou(e,t,!0),s=r;;){if(0===a){wc&&!r&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!s||Yc(n)){if(2===a){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=Tc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,o).flags|=256),2!==(o=ou(l,o,!1))){if(xc&&!c){l.errorRecoveryDisabledLanes|=s,Sc|=s,a=4;break e}s=Oc,Oc=a,null!==s&&(null===Oc?Oc=s:Oc.push.apply(Oc,s))}a=o}if(s=!1,2!==a)continue}}if(1===a){tu(e,0),Xc(e,t,0,!0);break}e:{switch(r=e,s=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Xc(r,t,Ec,!bc);break e;case 2:Oc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Rc+300-le())){if(Xc(r,t,Ec,!bc),0!==Ee(r,0,!0))break e;Fc=t,r.timeoutHandle=xd(Qc.bind(null,r,n,Oc,Ic,Pc,t,Ec,Sc,Cc,bc,s,"Throttled",-0,0),a)}else Qc(r,n,Oc,Ic,Pc,t,Ec,Sc,Cc,bc,s,null,-0,0)}break}a=ou(e,t,!1),s=!1}Iu(e)}function Qc(e,t,n,r,a,s,i,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var p=(62914560&s)===s?Rc-le():(4194048&s)===s?Ac-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],s=a.transferSize,i=a.initiatorType,o=a.duration;if(s&&o&&fd(i)){for(i=0,o=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(i+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(d,p)))return Fc=s,e.cancelPendingCommit=p(mu.bind(null,e,t,s,n,r,a,i,o,l,u,d,null,h,f)),void Xc(e,s,i,!c)}mu(e,t,s,n,r,a,i,o,l)}function Yc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Xn(s(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,r){t&=~Nc,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var s=31-we(a),i=1<<s;r[s]=-1,a&=~i}0!==n&&Ae(e,n,t)}function Zc(){return 0!==(6&fc)||(Lu(0,!1),!1)}function eu(){if(null!==mc){if(0===yc)var e=mc.return;else ja=_a=null,ii(e=mc),os=null,ls=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Fc=0,eu(),pc=e,mc=n=Fr(e.current,null),gc=t,yc=0,vc=null,bc=!1,wc=Ce(e,t),xc=!1,Cc=Ec=Nc=Sc=jc=_c=0,Oc=Tc=null,Pc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-we(r),s=1<<a;t|=e[a],r&=~s}return kc=t,Or(),n}function nu(e,t){Bs=null,z.H=mo,t===Ya||t===Za?(t=ss(),yc=3):t===Xa?(t=ss(),yc=4):yc=t===Ro?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===mc&&(_c=1,Eo(e,Jr(t,e.current)))}function ru(){var e=Rs.current;return null===e||((4194048&gc)===gc?null===As:((62914560&gc)===gc||0!==(536870912&gc))&&e===As)}function au(){var e=z.H;return z.H=mo,null===e?mo:e}function su(){var e=z.A;return z.A=dc,e}function iu(){_c=4,bc||(4194048&gc)!==gc&&null!==Rs.current||(wc=!0),0===(134217727&jc)&&0===(134217727&Sc)||null===pc||Xc(pc,gc,Ec,!1)}function ou(e,t,n){var r=fc;fc|=2;var a=au(),s=su();pc===e&&gc===t||(Ic=null,tu(e,t)),t=!1;var i=_c;e:for(;;)try{if(0!==yc&&null!==mc){var o=mc,l=vc;switch(yc){case 8:eu(),i=6;break e;case 3:case 2:case 9:case 6:null===Rs.current&&(t=!0);var c=yc;if(yc=0,vc=null,hu(e,o,l,c),n&&wc){i=0;break e}break;default:c=yc,yc=0,vc=null,hu(e,o,l,c)}}lu(),i=_c;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,ja=_a=null,fc=r,z.H=a,z.A=s,null===mc&&(pc=null,gc=0,Or()),i}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!ie();)uu(mc)}function uu(e){var t=il(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vo(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Vo(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:ii(t);default:ml(n,t),t=il(n,t=mc=qr(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e,t,n,r){ja=_a=null,ii(t),os=null,ls=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ta(t,n,a,!0),null!==(n=Rs.current)){switch(n.tag){case 31:case 13:return null===As?iu():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===es?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ju(e,r,a)),!1;case 22:return n.flags|=65536,r===es?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ju(e,r,a)),!1}throw Error(i(435,n.tag))}return ju(e,r,a),iu(),!1}if(da)return null!==(t=Rs.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==pa&&xa(Jr(e=Error(i(422),{cause:r}),n))):(r!==pa&&xa(Jr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Jr(r,n),xs(e,a=To(e.stateNode,r,a)),4!==_c&&(_c=2)),!1;var s=Error(i(520),{cause:r});if(s=Jr(s,n),null===Tc?Tc=[s]:Tc.push(s),4!==_c&&(_c=2),null===t)return!0;r=Jr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,xs(n,e=To(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Lc||!Lc.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,Po(a=Oo(a),e,n,r),xs(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,gc))return _c=1,Eo(e,Jr(n,e.current)),void(mc=null)}catch(s){if(null!==a)throw mc=a,s;return _c=1,Eo(e,Jr(n,e.current)),void(mc=null)}32768&t.flags?(da||1===r?e=!0:wc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Rs.current)&&13===r.tag&&(r.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var n=fl(t.alternate,t,kc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===_c&&(_c=5)}function pu(e,t){do{var n=pl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);_c=6,mc=null}function mu(e,t,n,r,a,s,o,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==Dc);if(0!==(6&fc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,a,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ae(e,r,0),0!==s&&0===a&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,s|=Tr,o,l,c),e===pc&&(mc=pc=null,gc=0),Mc=t,Uc=e,Fc=n,qc=s,Bc=a,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=z.T,z.T=null,a=I.p,I.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,pd=bh,ar(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===s&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},bh=!1,Al=t;null!==Al;)if(e=(t=Al).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Al=e;else for(;null!==Al;){switch(s=(t=Al).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=_o(n.type,a);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){_u(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Td(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Al=e;break}Al=t.return}}(e,t)}finally{fc=o,I.p=a,z.T=r}}Dc=1,gu(),yu(),vu()}}function gu(){if(1===Dc){Dc=0;var e=Uc,t=Mc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=z.T,z.T=null;var r=I.p;I.p=2;var a=fc;fc|=4;try{Vl(t,e);var s=md,i=rr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&ar(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(i=g,g=m,m=i);var y=tr(o,m),v=tr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bh=!!pd,md=pd=null}finally{fc=a,I.p=r,z.T=n}}e.current=t,Dc=2}}function yu(){if(2===Dc){Dc=0;var e=Uc,t=Mc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=z.T,z.T=null;var r=I.p;I.p=2;var a=fc;fc|=4;try{zl(e,t.alternate,t)}finally{fc=a,I.p=r,z.T=n}}Dc=3}}function vu(){if(4===Dc||3===Dc){Dc=0,oe();var e=Uc,t=Mc,n=Fc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Dc=5:(Dc=0,Mc=Uc=null,bu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Lc=null),De(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=z.T,a=I.p,I.p=2,z.T=null;try{for(var s=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];s(o.value,{componentStack:o.stack})}}finally{z.T=t,I.p=a}}0!==(3&Fc)&&wu(),Iu(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===Vc?Wc++:(Wc=0,Vc=e):Wc=0,Lu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fa(t)))}function wu(){return gu(),yu(),vu(),xu()}function xu(){if(5!==Dc)return!1;var e=Uc,t=qc;qc=0;var n=De(Fc),r=z.T,a=I.p;try{I.p=32>n?32:n,z.T=null,n=Bc,Bc=null;var s=Uc,o=Fc;if(Dc=0,Mc=Uc=null,Fc=0,0!==(6&fc))throw Error(i(331));var l=fc;if(fc|=4,lc(s.current),ec(s,s.current,o,n),fc=l,Lu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(c){}return!0}finally{I.p=a,z.T=r,bu(e,t)}}function ku(e,t,n){t=Jr(n,t),null!==(e=bs(e,t=To(e.stateNode,t,2),2))&&(Re(e,2),Iu(e))}function _u(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Lc||!Lc.has(r))){e=Jr(n,e),null!==(r=bs(t,n=Oo(2),2))&&(Po(n,r,t,e),Re(r,2),Iu(r));break}}t=t.return}}function ju(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(xc=!0,a.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(gc&n)===n&&(4===_c||3===_c&&(62914560&gc)===gc&&300>le()-Rc?0===(2&fc)&&tu(e,0):Nc|=n,Cc===gc&&(Cc=0)),Iu(e)}function Nu(e,t){0===t&&(t=Oe()),null!==(e=Ar(e,t))&&(Re(e,t),Iu(e))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Nu(e,n)}var Tu=null,Ou=null,Pu=!1,Ru=!1,Au=!1,zu=0;function Iu(e){e!==Ou&&null===e.next&&(null===Ou?Tu=Ou=e:Ou=Ou.next=e),Ru=!0,Pu||(Pu=!0,jd(function(){0!==(6&fc)?ae(ue,Du):Uu()}))}function Lu(e,t){if(!Au&&Ru){Au=!0;do{for(var n=!1,r=Tu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var s=0;else{var i=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=a&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,qu(r,s))}else s=gc,0===(3&(s=Ee(r,r===pc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ce(r,s)||(n=!0,qu(r,s));r=r.next}}while(n);Au=!1}}function Du(){Uu()}function Uu(){Ru=Pu=!1;var e=0;0!==zu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=zu);for(var t=le(),n=null,r=Tu;null!==r;){var a=r.next,s=Mu(r,t);0===s?(r.next=null,null===n?Tu=a:n.next=a,null===a&&(Ou=n)):(n=r,(0!==e||0!==(3&s))&&(Ru=!0)),r=a}0!==Dc&&5!==Dc||Lu(e,!1),0!==zu&&(zu=0)}function Mu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-we(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=Te(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=gc,n=Ee(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),De(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Fu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Fu(e,t){if(0!==Dc&&5!==Dc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Ee(e,e===pc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Gc(e,r,t),Mu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Fu.bind(null,e):null)}function qu(e,t){if(wu())return null;Gc(e,t,!0)}function Bu(){if(0===zu){var e=Ha;0===e&&(e=_e,0===(261888&(_e<<=1))&&(_e=256)),zu=e}return zu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Vu=0;Vu<jr.length;Vu++){var Ku=jr[Vu];Sr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}Sr(gr,"onAnimationEnd"),Sr(yr,"onAnimationIteration"),Sr(vr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(br,"onTransitionRun"),Sr(wr,"onTransitionStart"),Sr(xr,"onTransitionCancel"),Sr(kr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($u));function Gu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){Nr(u)}a.currentTarget=null,s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;s=o,a.currentTarget=c;try{s(a)}catch(u){Nr(u)}a.currentTarget=null,s=l}}}}function Qu(e,t){var n=t[We];void 0===n&&(n=t[We]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Yu(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ju.has(t)||Yu(t,!1,e),Yu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Yu("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Nh(t)){case 2:var a=wh;break;case 8:a=xh;break;default:a=kh}n=a.bind(null,t,n,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function td(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Qe(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=s=i;continue e}o=o.parentNode}}r=r.return}Mt(function(){var r=s,a=zt(n),i=[];e:{var o=_r.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case yr:case vr:c=un;break;case kr:c=xn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=_n}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(m,f))&&d.push(nd(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[He])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Xe(c),p=null==u?o:Xe(u),(o=new d(g,m+"leave",c,n,a)).target=h,o.relatedTarget=p,g=null,Qe(a)===r&&((d=new d(f,m+"enter",u,n,a)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&sd(i,o,c,d,!1),null!==u&&null!==h&&sd(i,h,u,d,!0)}if("select"===(c=(o=r?Xe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=qn;else if(In(o))if(Bn)v=Yn;else{v=Gn;var b=Jn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(v=qn):v=Qn;switch(v&&(v=v(e,r))?Ln(i,v,n,a):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?Xe(r):window,e){case"focusin":(In(b)||"true"===b.contentEditable)&&(ir=b,or=r,lr=null);break;case"focusout":lr=or=ir=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(i,n,a);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(i,n,a)}var w;if(Sn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else An?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(An||"onCompositionStart"!==x?"onCompositionEnd"===x&&An&&(w=$t()):(Vt="value"in(Wt=a)?Wt.value:Wt.textContent,An=!0)),0<(b=rd(r,x)).length&&(x=new hn(x,e,null,n,a),i.push({event:x,listeners:b}),w?x.data=w:null!==(w=Rn(n))&&(x.data=w))),(w=En?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(On=!0,Tn);case"textInput":return(e=t.data)===Tn&&On?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Sn&&Pn(e,t)?(e=$t(),Kt=Vt=Wt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=rd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,a),i.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var s=Hu((a[Be]||null).action),i=r.submitter;i&&null!==(t=(t=i[Be]||null)?Hu(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new nn("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==zu){var e=i?Wu(a,i):new FormData(a);eo(n,{pending:!0,data:e,method:a.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=i?Wu(a,i):new FormData(a),eo(n,{pending:!0,data:e,method:a.method,action:s},s,e))},currentTarget:a}]})}}(i,e,r,n,a)}Gu(i,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===s||(null!=(a=Ft(e,n))&&r.unshift(nd(e,a,s)),null!=(a=Ft(e,t))&&r.push(nd(e,a,s))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Ft(n,s))&&i.unshift(nd(n,c,l)):a||null!=(c=Ft(n,s))&&i.push(nd(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var id=/\r\n?/g,od=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(id,"\n").replace(od,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,a,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Et(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&ud(e,t,"name",a.name,a,null),ud(e,t,"formEncType",a.formEncType,a,null),ud(e,t,"formMethod",a.formMethod,a,null),ud(e,t,"formTarget",a.formTarget,a,null)):(ud(e,t,"encType",a.encType,a,null),ud(e,t,"method",a.method,a,null),ud(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Tt.get(n)||n,r)}}function dd(e,t,n,r,a,s){switch(n){case"style":Et(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?jt(e,r):("number"===typeof r||"bigint"===typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Be]||null)?s[n]:null)&&e.removeEventListener(t,s,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,a=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ud(e,t,r,o,n,null)}}return s&&ud(e,t,"srcSet",n.srcSet,n,null),void(a&&ud(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=r=o=s=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":s=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:ud(e,t,a,d,n,null)}}return void bt(e,r,l,c,u,o,s,!1);case"select":for(s in Qu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:ud(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=n&&xt(e,!!a,n,!0));case"textarea":for(o in Qu("invalid",e),r=s=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:ud(e,t,o,l,n,null)}return void _t(e,a,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else ud(e,t,c,a,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(a=0;a<$u.length;a++)Qu($u[a],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:ud(e,t,u,a,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&dd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&ud(e,t,l,a,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var xd="function"===typeof setTimeout?setTimeout:void 0,kd="function"===typeof clearTimeout?clearTimeout:void 0,_d="function"===typeof Promise?Promise:void 0,jd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof _d?function(e){return _d.resolve(null).then(e).catch(Sd)}:xd;function Sd(e){setTimeout(function(){throw e})}function Nd(e){return"head"===e}function Ed(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var i=s.nextSibling,o=s.nodeName;s[Je]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=i}}else"body"===n&&Ud(e.ownerDocument.body);n=a}while(n);Wh(t)}function Cd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Td(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Td(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Od(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ad(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ad(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var zd=null;function Id(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ad(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Dd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ge(e)}var Md=new Map,Fd=new Set;function qd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bd=I.d;I.d={f:function(){var e=Bd.f(),t=Zc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?no(t):Bd.r(e)},D:function(e){Bd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){Bd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){Bd.L(e,t,n);var r=Hd;if(r&&e&&t){var a='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+yt(n.imageSizes)+'"]')):a+='[href="'+yt(e)+'"]';var s=a;switch(t){case"style":s=Kd(e);break;case"script":s=Gd(e)}Md.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Md.set(s,e),null!==r.querySelector(a)||"style"===t&&r.querySelector($d(s))||"script"===t&&r.querySelector(Qd(s))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Bd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Gd(e)}if(!Md.has(s)&&(e=f({rel:"modulepreload",href:e},t),Md.set(s,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(s)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Bd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Gd(e),s=r.get(a);s||((s=n.querySelector(Qd(a)))||(e=f({src:e,async:!0},t),(t=Md.get(a))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}},S:function(e,t,n){Bd.S(e,t,n);var r=Hd;if(r&&e){var a=Ze(r).hoistableStyles,s=Kd(e);t=t||"default";var i=a.get(s);if(!i){var o={loading:0,preload:null};if(i=r.querySelector($d(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Md.get(s))&&Zd(e,n);var l=i=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Xd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(s,i)}}},M:function(e,t){Bd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Gd(e),s=r.get(a);s||((s=n.querySelector(Qd(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=Md.get(a))&&eh(e,t),et(s=n.createElement("script")),hd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(a,s))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var a=yt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Fd.has(a)||(Fd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Vd(e,t,n,r){var a,s,o,l,c=(c=K.current)?qd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector($d(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Md.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Md.set(e,n),u||(a=c,s=e,o=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),hd(s,"link",o),et(s),a.head.appendChild(s))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Gd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kd(e){return'href="'+yt(e)+'"'}function $d(e){return'link[rel="stylesheet"]['+e+"]"}function Jd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Gd(e){return'[src="'+yt(e)+'"]'}function Qd(e){return"script[async]"+e}function Yd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",a),Xd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Kd(n.href);var s=e.querySelector($d(a));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=Jd(n),(a=Md.get(a))&&Zd(r,a),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(s,"link",r),t.state.loading|=4,Xd(s,n.precedence,e),t.instance=s;case"script":return s=Gd(n.src),(a=e.querySelector(Qd(s)))?(t.instance=a,et(a),a):(r=n,(a=Md.get(s))&&eh(r=f({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),hd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xd(r,n.precedence,e));return t.instance}function Xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,s=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,a=th=new Map;a.set(n,r)}else(r=(a=th).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Je]||s[qe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(s):r.set(i,[s])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function ih(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var oh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,oh=new Map,t.forEach(ch,e),oh=null,ih.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=oh.get(e);if(n)var r=n.get(null);else{n=new Map,oh.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var i=a[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(s=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=ih.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),s?s.parentNode.insertBefore(a,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var uh={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function dh(e,t,n,r,a,s,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,a,s,i,o,l,c,u,d){return e=new dh(e,t,n,i,l,c,u,d,o),t=1,!0===s&&(t|=24),s=Ur(3,null,null,t),e.current=s,s.stateNode=e,(t=Ma()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},gs(s),e}function fh(e){return e?e=Lr:Lr}function ph(e,t,n,r,a,s){a=fh(a),null===r.context?r.context=a:r.pendingContext=a,(r=vs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=bs(e,r,t))&&(Jc(n,0,t),ws(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Ar(e,67108864);null!==t&&Jc(t,0,67108864),gh(e,67108864)}}function vh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Ar(e,t=Le(t));null!==n&&Jc(n,0,t),gh(e,t)}}var bh=!0;function wh(e,t,n,r){var a=z.T;z.T=null;var s=I.p;try{I.p=2,kh(e,t,n,r)}finally{I.p=s,z.T=a}}function xh(e,t,n,r){var a=z.T;z.T=null;var s=I.p;try{I.p=8,kh(e,t,n,r)}finally{I.p=s,z.T=a}}function kh(e,t,n,r){if(bh){var a=_h(r);if(null===a)td(e,t,r,jh,n),Ih(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ch=Lh(Ch,e,t,n,r,a),!0;case"dragenter":return Th=Lh(Th,e,t,n,r,a),!0;case"mouseover":return Oh=Lh(Oh,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Ph.set(s,Lh(Ph.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Rh.set(s,Lh(Rh.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ih(e,r),4&t&&-1<zh.indexOf(e)){for(;null!==a;){var s=Ye(a);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=Ne(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-we(i);o.entanglements[1]|=l,i&=~l}Iu(s),0===(6&fc)&&(zc=le()+500,Lu(0,!1))}}break;case 31:case 13:null!==(o=Ar(s,2))&&Jc(o,0,2),Zc(),gh(s,2)}if(null===(s=_h(r))&&td(e,t,r,jh,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else td(e,t,r,null,n)}}function _h(e){return Sh(e=zt(e))}var jh=null;function Sh(e){if(jh=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jh=e,null}function Nh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Eh=!1,Ch=null,Th=null,Oh=null,Ph=new Map,Rh=new Map,Ah=[],zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":Ch=null;break;case"dragenter":case"dragleave":Th=null;break;case"mouseover":case"mouseout":Oh=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(t.pointerId)}}function Lh(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ye(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dh(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Me(e.priority,function(){vh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Me(e.priority,function(){vh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_h(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Mh(e,t,n){Uh(e)&&n.delete(t)}function Fh(){Eh=!1,null!==Ch&&Uh(Ch)&&(Ch=null),null!==Th&&Uh(Th)&&(Th=null),null!==Oh&&Uh(Oh)&&(Oh=null),Ph.forEach(Mh),Rh.forEach(Mh)}function qh(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fh)))}var Bh=null;function Hh(e){Bh!==e&&(Bh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===e&&(Bh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===Sh(r||n))continue;break}var s=Ye(n);null!==s&&(e.splice(t,3),t-=3,eo(s,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Wh(e){function t(t){return qh(t,e)}null!==Ch&&qh(Ch,e),null!==Th&&qh(Th,e),null!==Oh&&qh(Oh,e),Ph.forEach(t),Rh.forEach(t);for(var n=0;n<Ah.length;n++){var r=Ah[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ah.length&&null===(n=Ah[0]).blockedOn;)Dh(n),null===n.blockedOn&&Ah.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],s=n[r+1],i=a[Be]||null;if("function"===typeof s)i||Hh(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,i=s[Be]||null)o=i.formAction;else if(null!==Sh(a))continue}else o=i.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Vh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Kh(e){this._internalRoot=e}function $h(e){this._internalRoot=e}$h.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));ph(t.current,Kc(),e,t,null,null)},$h.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Zc(),t[He]=null}},$h.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ah.length&&0!==t&&t<Ah[n].priority;n++);Ah.splice(n,0,e),0===n&&Dh(e)}};var Jh=a.version;if("19.2.0"!==Jh)throw Error(i(527,Jh,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return d(a),e;if(s===r)return d(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Gh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ye=Qh.inject(Gh),ve=Qh}catch(Xh){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",a=jo,s=So,l=No;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,a,s,l,Vh),e[He]=t.current,Zu(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,a="",s=jo,l=So,c=No,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hh(e,1,!0,t,0,r,a,u,s,l,c,Vh)).context=fh(null),n=t.current,(a=vs(r=Le(r=Kc()))).callback=null,bs(n,a,r),n=r,t.current.lanes=n,Re(t,n),Iu(t),e[He]=t.current,Zu(e),new $h(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(829)),s=r(n(736));class i{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let o;const l=new URL("".concat(this.url,"/rpc/").concat(e));let c;n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;l.searchParams.append(t,n)})):(o="POST",c=t);const u=new Headers(this.headers);return a&&u.set("Prefer","count=".concat(a)),new s.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}}t.default=i},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(630)),s=r(n(611));t.default=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r,a;let i=null,o=null,l=null,c=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const n=await e.text();""===n||(o="text/csv"===this.headers.get("Accept")||this.headers.get("Accept")&&(null===(t=this.headers.get("Accept"))||void 0===t?void 0:t.includes("application/vnd.pgrst.plan+text"))?n:JSON.parse(n))}const a=null===(n=this.headers.get("Prefer"))||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");a&&s&&s.length>1&&(l=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(o=[],i=null,c=200,u="OK")}catch(d){404===e.status&&""===t?(c=204,u="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(a=null===i||void 0===i?void 0:i.details)||void 0===a?void 0:a.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&this.shouldThrowOnError)throw new s.default(i)}return{error:i,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=w.prototype=new b;x.constructor=w,g(x,v.prototype),x.isPureReactComponent=!0;var k=Array.isArray;function _(){}var j={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return O((u=e._init)(e._payload),t,a,s,i)}}if(u)return i=i(e),u=""===s?"."+T(e,0):s,k(i)?(a="",null!=u&&(a=u.replace(C,"$&/")+"/"),O(i,t,a,"",function(e){return e})):null!=i&&(E(i)&&(l=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+u,i=N(l.type,c,l.props)),t.push(i)),1;u=0;var d,f=""===s?".":s+":";if(k(e))for(var m=0;m<e.length;m++)u+=O(s=e[m],t,a,o=f+T(s,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=O(s=s.value,t,a,o=f+T(s,m++),i);else if("object"===o){if("function"===typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",function(e){return t.call(n,e,a++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},z={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=z,t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key;if(null!=t)for(s in void 0!==t.key&&(a=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var i=Array(s),o=0;o<s;o++)i[o]=arguments[o+2];r.children=i}return N(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return N(e,s,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(_,A)}catch(s){A(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return j.H.useEffect(e,t)},t.useEffectEvent=function(e){return j.H.useEffectEvent(e)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.2.0"},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(286));class s extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}}t.default=s},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,s=r.fetch.bind(r),i=r.Headers,o=r.Request,l=r.Response},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:s}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=s},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},s=n?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer","count=".concat(r)),new a.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(t&&this.headers.append("Prefer","count=".concat(t)),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;if(this.headers.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer","count=".concat(r)),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return t&&this.headers.append("Prefer","count=".concat(t)),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return e&&this.headers.append("Prefer","count=".concat(e)),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}}},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,j||(j=!0,_());else{var t=r(u);null!==t&&R(k,t.startTime-e)}}var _,j=!1,S=-1,N=5,E=-1;function C(){return!!y||!(t.unstable_now()-E<N)}function T(){if(y=!1,j){var e=t.unstable_now();E=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(S),S=-1),p=!0;var s=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&a(c),x(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&R(k,l.startTime-e),n=!1}}break e}finally{h=null,f=s,p=!1}n=void 0}}finally{n?_():j=!1}}}if("function"===typeof w)_=function(){w(T)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=T,_=function(){P.postMessage(null)}}else _=function(){v(T,0)};function R(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,R(k,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,j||(j=!0,_()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(210));t.PostgrestClient=a.default;const s=r(n(829));t.PostgrestQueryBuilder=s.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".93cfa040.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="villa-two:";n.l=(r,a,s,i)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,s,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkvilla_two=self.webpackChunkvilla_two||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n(391);function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function l(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d=["sri"],h=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function v(){return S(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return k("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:_(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function _(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function j(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function S(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o="POP",l=null,c=d();function d(){return(i.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return N(e)}null==c&&(c=0,i.replaceState(u(u({},i.state),{},{idx:c}),""));let p={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(y,h),l=e,()=>{a.removeEventListener(y,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=k(p.location,e,t);n&&n(r,e),c=d()+1;let u=x(r,c),h=p.createHref(r);try{i.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}s&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let r=k(p.location,e,t);n&&n(r,e),c=d();let a=x(r,c),u=p.createHref(r);i.replaceState(a,"",u),s&&l&&l({action:o,location:p.location,delta:0})},go:e=>i.go(e)};return p}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:_(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function E(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,n,r){let a=H(("string"===typeof t?j(t):t).pathname||"/",n);if(null==a)return null;let s=T(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=B(a);i=M(s[o],e,r)}return i}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;b(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=J([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),T(e.children,t,u,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:U(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of O(e.path))s(e,t,!0,r);else s(e,t)}),t}function O(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=O(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,R=3,A=2,z=1,I=10,L=-2,D=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=L),t&&(r+=A),n.filter(e=>!D(e)).reduce((e,t)=>e+(P.test(t)?R:""===t?z:I),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:J([s,u.pathname]),pathnameBase:G(J([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=J([s,u.pathnameBase]))}return i}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function V(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=V(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function $(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=j(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?j(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Q(r),hash:Y(a)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext(!1);var ae=r.createContext({isTransitioning:!1});ae.displayName="ViewTransition";var se=r.createContext(new Map);se.displayName="Fetchers";var ie=r.createContext(null);ie.displayName="Await";var oe=r.createContext(null);oe.displayName="Navigation";var le=r.createContext(null);le.displayName="Location";var ce=r.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=r.createContext(null);ue.displayName="RouteError";function de(){return null!=r.useContext(le)}function he(){return b(de(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){r.useContext(oe).static||r.useLayoutEffect(e)}function me(){let{isDataRoute:e}=r.useContext(ce);return e?function(){let{router:e}=je("useNavigate"),t=Ne("useNavigate"),n=r.useRef(!1);pe(()=>{n.current=!0});let a=r.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},a)))},[e,t]);return a}():function(){b(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(oe),{matches:a}=r.useContext(ce),{pathname:s}=he(),i=JSON.stringify(K(a)),o=r.useRef(!1);pe(()=>{o.current=!0});let l=r.useCallback(function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(o.current,fe),!o.current)return;if("number"===typeof r)return void n.go(r);let l=$(r,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,i,s,e]);return l}()}r.createContext(null);function ge(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ce),{pathname:a}=he(),s=JSON.stringify(K(n));return r.useMemo(()=>$(e,JSON.parse(s),a,"path"===t),[e,s,a,t])}function ye(e,t,n,a,s){b(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(oe),{matches:o}=r.useContext(ce),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Te(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=he();if(t){var g;let e="string"===typeof t?j(t):t;b("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let y=p.pathname||"/",v=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=E(e,{pathname:v});w(f||null!=x,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),w(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=ke(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:J([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,a,s);return t&&k?r.createElement(le.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},k):k}function ve(){let e=Ee(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var be=r.createElement(ve,null),we=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?r.createElement(ce.Provider,{value:this.props.routeContext},r.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:t,match:n,children:a}=e,s=r.useContext(te);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ce.Provider,{value:t},a)}function ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let s=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=s.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(n)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((e,c,u)=>{let d,h=!1,f=null,p=null;n&&(d=i&&c.route.id?i[c.route.id]:void 0,f=c.route.errorElement||be,o&&(l<0&&0===u?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=c.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,u+1)),g=()=>{let t;return t=d?f:h?p:c.route.Component?r.createElement(c.route.Component,null):c.route.element?c.route.element:e,r.createElement(xe,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?r.createElement(we,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:a}):g()},null)}function _e(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function je(e){let t=r.useContext(te);return b(t,_e(e)),t}function Se(e){let t=r.useContext(ne);return b(t,_e(e)),t}function Ne(e){let t=function(e){let t=r.useContext(ce);return b(t,_e(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ee(){var e;let t=r.useContext(ue),n=Se("useRouteError"),a=Ne("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var Ce={};function Te(e,t,n){t||Ce[e]||(Ce[e]=!0,w(!1,n))}var Oe={};function Pe(e,t){e||Oe[t]||(Oe[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:a}=e;return ye(t,void 0,r,a,n)});function Re(e){let{to:t,replace:n,state:a,relative:s}=e;b(de(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=r.useContext(oe);w(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=r.useContext(ce),{pathname:l}=he(),c=me(),u=$(t,K(o),l,"path"===s),d=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(d),{replace:n,state:a,relative:s})},[c,d,s,n,a]),null}function Ae(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ze(e){let{basename:t="/",children:n=null,location:a,navigationType:s="POP",navigator:i,static:o=!1}=e;b(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof a&&(a=j(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=a,m=r.useMemo(()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:s}},[l,u,d,h,f,p,s]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(oe.Provider,{value:c},r.createElement(le.Provider,{children:n,value:m}))}function Ie(e){let{children:t,location:n}=e;return ye(Le(t),n)}r.Component;function Le(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let s=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Le(e.props.children,s));b(e.type===Ae,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Le(e.props.children,s)),n.push(i)}),n}var De="get",Ue="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||qe.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function He(e,t){let n,r,a,s,i;if(Me(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?H(i,t):null,n=e.getAttribute("method")||De,a=Be(e.getAttribute("enctype"))||Ue,s=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?H(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||De,a=Be(e.getAttribute("formenctype"))||Be(i.getAttribute("enctype"))||Ue,s=new FormData(i,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=De,r=null,a=Ue,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function We(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ve(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ke(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $e(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ge(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function Ye(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!$e(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function Xe(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=r.useContext(te);return We(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=r.useContext(ne);return We(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=r.createContext(void 0);function nt(){let e=r.useContext(tt);return We(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function at(e,t,n){if(n&&!lt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}tt.displayName="FrameworkContext";function st(e){let{page:t}=e,n=s(e,h),{router:a}=Ze(),i=r.useMemo(()=>E(a.routes,t,a.basename),[a.routes,t,a.basename]);return i?r.createElement(ot,u({page:t,matches:i},n)):null}function it(e){let{manifest:t,routeModules:n}=nt(),[a,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return Ye((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ke(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),a}function ot(e){let{page:t,matches:n}=e,a=s(e,f),i=he(),{manifest:o,routeModules:l}=nt(),{basename:c}=Ze(),{loaderData:d,matches:h}=et(),p=r.useMemo(()=>Ge(t,n,h,o,i,"data"),[t,n,h,o,i]),m=r.useMemo(()=>Ge(t,n,h,o,i,"assets"),[t,n,h,o,i]),g=r.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let a=o.routes[t.route.id];a&&a.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let a=Ve(t,c,"data");return r&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[c,d,i,o,p,n,t,l]),y=r.useMemo(()=>Qe(m,o),[m,o]),v=it(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},a))),y.map(e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},a))),v.map(e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t,nonce:a.nonce},n))}))}var lt=!1;function ct(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:i,routeDiscovery:o,ssr:l}=nt(),{router:c,static:h,staticContext:f}=Ze(),{matches:p}=et(),m=r.useContext(re),g=Xe(o,l);i&&(i.didRenderScripts=!0);let y=at(p,null,a);r.useEffect(()=>{lt=!0},[]);let v=r.useMemo(()=>{var a;if(m)return null;let i=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];We(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=s(e,d),a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push("/".concat(i.join("/"))),i.pop();o.forEach(e=>{let n=E(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let l=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=lt||m?[]:(w=t.entry.imports.concat(Qe(y,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return Pe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),lt||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),v)}function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function dt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return r.createElement(ht,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(ht,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function ht(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:s,children:i}=e,{routeModules:o}=nt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?r.createElement(ct,null):null)))}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.9.4")}catch(ji){}function pt(e){let{basename:t,children:n,window:a}=e,s=r.useRef();null==s.current&&(s.current=v({window:a,v5Compat:!0}));let i=s.current,[o,l]=r.useState({action:i.action,location:i.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>i.listen(c),[i,c]),r.createElement(ze,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i})}var mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=r.forwardRef(function(e,t){let n,{onClick:a,discover:i="render",prefetch:o="none",relative:l,reloadDocument:c,replace:d,state:h,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,v=s(e,p),{basename:x}=r.useContext(oe),k="string"===typeof m&&mt.test(m),j=!1;if("string"===typeof m&&k&&(n=m,ft))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=H(t.pathname,x);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:j=!0}catch(ji){w(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(oe),{hash:s,pathname:i,search:o}=ge(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:J([n,i])),a.createHref({pathname:l,search:o,hash:s})}(m,{relative:l}),[N,E,C]=function(e,t){let n=r.useContext(tt),[a,s]=r.useState(!1),[i,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let p=()=>{s(!0)},m=()=>{s(!1),o(!1)};return n?"intent"!==e?[i,f,{}]:[i,f,{onFocus:rt(l,p),onBlur:rt(c,m),onMouseEnter:rt(u,p),onMouseLeave:rt(d,m),onTouchStart:rt(h,p)}]:[!1,f,{}]}(o,v),T=function(e){let{target:t,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=he(),u=ge(e,{relative:i});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:_(c)===_(u);l(e,{replace:t,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,n,a,t,e,s,i,o])}(m,{replace:d,state:h,target:f,preventScrollReset:g,relative:l,viewTransition:y});let O=r.createElement("a",u(u(u({},v),C),{},{href:n||S,onClick:j||c?a:function(e){a&&a(e),e.defaultPrevented||T(e)},ref:ut(t,E),target:f,"data-discover":k||"render"!==i?void 0:"true"}));return N&&!k?r.createElement(r.Fragment,null,O,r.createElement(st,{page:S})):O});gt.displayName="Link";var yt=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,f=s(e,m),p=ge(c,{relative:f.relative}),g=he(),y=r.useContext(ne),{navigator:v,basename:w}=r.useContext(oe),x=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(ae);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=wt("useViewTransitionState"),s=ge(e,{relative:t});if(!n.isTransitioning)return!1;let i=H(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=H(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=F(s.pathname,o)||null!=F(s.pathname,i)}(p)&&!0===d,k=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,_=g.pathname,j=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(_=_.toLowerCase(),j=j?j.toLowerCase():null,k=k.toLowerCase()),j&&w&&(j=H(j,w)||j);const S="/"!==k&&k.endsWith("/")?k.length-1:k.length;let N,E=_===k||!o&&_.startsWith(k)&&"/"===_.charAt(S),C=null!=j&&(j===k||!o&&j.startsWith(k)&&"/"===j.charAt(k.length)),T={isActive:E,isPending:C,isTransitioning:x},O=E?n:void 0;N="function"===typeof i?i(T):[i,E?"active":null,C?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(T):l;return r.createElement(gt,u(u({},f),{},{"aria-current":O,className:N,ref:t,style:P,to:c,viewTransition:d}),"function"===typeof h?h(T):h)});yt.displayName="NavLink";var vt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:o,replace:l,state:c,method:d=De,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:y}=e,v=s(e,g),w=_t(),x=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(oe),a=r.useContext(ce);b(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i=u({},ge(e||".",{relative:t})),o=he();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:J([n,i.pathname]));return _(i)}(h,{relative:p}),k="get"===d.toLowerCase()?"get":"post",j="string"===typeof h&&mt.test(h);return r.createElement("form",u(u({ref:t,method:k,action:x,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;w(t||e.currentTarget,{fetcherKey:a,method:n,navigate:i,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:y})}},v),{},{"data-discover":j||"render"!==n?void 0:"true"}))});function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function wt(e){let t=r.useContext(te);return b(t,bt(e)),t}vt.displayName="Form";var xt=0,kt=()=>"__".concat(String(++xt),"__");function _t(){let{router:e}=wt("useSubmit"),{basename:t}=r.useContext(oe),n=Ne("useRouteId");return r.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=He(r,t);if(!1===a.navigate){let t=a.fetcherKey||kt();await e.fetch(t,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}class jt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class St extends jt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nt extends jt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Et extends jt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ct;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Ct||(Ct={}));var Tt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Ot{constructor(e){let{headers:t={},customFetch:r,region:a=Ct.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return Tt(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;try{const{headers:a,method:s,body:i,signal:o}=n;let l={},{region:c}=n;c||(c=t.region);const u=new URL("".concat(t.url,"/").concat(e));let d;c&&"any"!==c&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c)),i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&("undefined"!==typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):"string"===typeof i?(l["Content-Type"]="text/plain",d=i):"undefined"!==typeof FormData&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const h=yield t.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),t.headers),a),body:d,signal:o}).catch(e=>{if("AbortError"===e.name)throw e;throw new St(e)}),f=h.headers.get("x-relay-error");if(f&&"true"===f)throw new Nt(h);if(!h.ok)throw new Et(h);let p,m=(null!==(r=h.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return p="application/json"===m?yield h.json():"application/octet-stream"===m?yield h.blob():"text/event-stream"===m?h:"multipart/form-data"===m?yield h.formData():yield h.text(),{data:p,error:null,response:h}}catch(a){return a instanceof Error&&"AbortError"===a.name?{data:null,error:new St(a)}:{data:null,error:a,response:a instanceof Et||a instanceof Nt?a.context:void 0}}}()})}}var Pt=n(980);const{PostgrestClient:Rt,PostgrestQueryBuilder:At,PostgrestFilterBuilder:zt,PostgrestTransformBuilder:It,PostgrestBuilder:Lt,PostgrestError:Dt}=Pt;const Ut=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process){const e=process.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(Dn){return!1}}},Mt="realtime-js/".concat("2.75.1"),Ft=1e4;var qt,Bt,Ht,Wt,Vt,Kt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(qt||(qt={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Bt||(Bt={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Ht||(Ht={})),function(e){e.websocket="websocket"}(Wt||(Wt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Vt||(Vt={}));class $t{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=n.decode(e.slice(s,s+r));s+=r;const o=n.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class Jt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Kt||(Kt={}));const Gt=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,a)=>(n[a]=Qt(a,e,t,r),n),{}):{}},Qt=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=n[e];return s&&!r.includes(s)?Yt(s,i):Xt(i)},Yt=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return nn(t,n)}switch(e){case Kt.bool:return Zt(t);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return en(t);case Kt.json:case Kt.jsonb:return tn(t);case Kt.timestamp:return rn(t);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:default:return Xt(t)}},Xt=e=>e,Zt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},en=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},nn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>Yt(t,e))}return e},rn=e=>"string"===typeof e?e.replace(" ","T"):e,an=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class sn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ft;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var on,ln,cn,un;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(on||(on={}));class dn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dn.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=dn.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=dn.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(ln||(ln={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(cn||(cn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(un||(un={}));class hn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,a;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new sn(this,Ht.join,this.params,this.timeout),this.rejoinTimer=new Jt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Bt.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ht.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new dn(this),this.broadcastEndpointURL=an(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[cn.PRESENCE]&&this.bindings[cn.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(un.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(un.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Bt.errored,void(null===e||void 0===e||e(un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(un.SUBSCRIBED))}null===e||void 0===e||e(un.SUBSCRIBED)}).receive("error",t=>{this.state=Bt.errored,null===e||void 0===e||e(un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Bt.joined&&e===cn.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Bt.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Ht.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new sn(this,Ht.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new sn(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=Ht;if(n&&[i,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&hn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ht.close,{},e)}_onError(e){this._on(Ht.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Gt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Gt(e.columns,e.old_record)),t}}const fn=()=>{},pn=25e3,mn=10,gn=100,yn=[1e3,2e3,5e3,1e4];class vn{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ft,this.transport=null,this.heartbeatIntervalMs=pn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fn,this.ref=0,this.reconnectTimer=null,this.logger=fn,this.conn=null,this.sendBuffer=[],this.serializer=new $t,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Wt.websocket),this.httpEndpoint=an(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ut.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qt.connecting:return Vt.Connecting;case qt.open:return Vt.Open;case qt.closing:return Vt.Closing;default:return Vt.Closed}}isConnected(){return this.connectionState()===Vt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new hn("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(ji){this.log("error","error in heartbeat callback",ji)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},gn)}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(ji){this.log("error","error in heartbeat callback",ji)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(ji){this.log("error","error in heartbeat callback",ji)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event)try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error")}catch(ji){this.log("error","error in heartbeat callback",ji)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:a}=e,s=a?"(".concat(a,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ht.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Mt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Ht.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(ji){this.log("error","error in ".concat(e," callback"),ji)}})}catch(ji){this.log("error","error triggering ".concat(e," callbacks"),ji)}}_setupReconnectionTimer(){this.reconnectTimer=new Jt(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mn)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,i,o,l,c;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:Ft,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:pn,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:fn,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(o=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==o?o:e=>yn[e-1]||1e4,this.encode=null!==(l=null===e||void 0===e?void 0:e.encode)&&void 0!==l?l:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(c=null===e||void 0===e?void 0:e.decode)&&void 0!==c?c:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class bn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function wn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class xn extends bn{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kn extends bn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var _n=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const jn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Sn=e=>{if(Array.isArray(e))return e.map(e=>Sn(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Sn(r)}),t};var Nn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const En=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cn=(e,t,r)=>Nn(void 0,void 0,void 0,function*(){const a=yield _n(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new xn(En(n),r,a))}).catch(e=>{t(new kn(En(e),e))}):t(new kn(En(e),e))}),Tn=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n)):a};function On(e,t,n,r,a,s){return Nn(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,Tn(t,r,a,s)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>Cn(e,o,r))})})}function Pn(e,t,n,r){return Nn(this,void 0,void 0,function*(){return On(e,"GET",t,n,r)})}function Rn(e,t,n,r,a){return Nn(this,void 0,void 0,function*(){return On(e,"POST",t,r,a,n)})}function An(e,t,n,r,a){return Nn(this,void 0,void 0,function*(){return On(e,"PUT",t,r,a,n)})}function zn(e,t,n,r,a){return Nn(this,void 0,void 0,function*(){return On(e,"DELETE",t,r,a,n)})}var In=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Ln{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return In(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(wn(e))return{data:null,error:e};throw e}})}}var Dn,Un=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};Dn=Symbol.toStringTag;const Mn=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Dn]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ln(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Un(this,void 0,void 0,function*(){try{const e=yield this.downloadFn();return{data:yield e.blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(wn(e))return{data:null,error:e};throw e}})}};var Fn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const qn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=jn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,r){return Fn(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Bn),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,i["cache-control"]="max-age=".concat(s.cacheControl),i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?An:Rn)(this.fetch,"".concat(this.url,"/object/").concat(c),a,Object.assign({headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(wn(a))return{data:null,error:a};throw a}})}upload(e,t,n){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Fn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+"/object/upload/sign/".concat(s));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Bn.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);return{data:{path:a,fullPath:(yield An(this.fetch,i.toString(),e,{headers:s})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(wn(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Fn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield Rn(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new bn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}update(e,t,n){return Fn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Fn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Fn(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Fn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield Rn(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Fn(this,void 0,void 0,function*(){try{const r=yield Rn(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"",s=this._getFinalPath(e);return new Mn(()=>Pn(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(s).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return Fn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Pn(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:Sn(e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}exists(e){return Fn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Nn(this,void 0,void 0,function*(){return On(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n)&&n instanceof kn){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(o))}}}remove(e){return Fn(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}list(e,t,n){return Fn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},qn),t),{prefix:e||""});return{data:yield Rn(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}})}listV2(e,t){return Fn(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Rn(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Wn={"X-Client-Info":"storage-js/".concat("2.75.1")};var Vn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Kn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const a=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."))}this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wn),t),this.fetch=jn(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Vn(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(wn(e))return{data:null,error:e};throw e}})}getBucket(e){return Vn(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}createBucket(e){return Vn(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return function*(){try{return{data:yield Rn(t.fetch,"".concat(t.url,"/bucket"),{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(wn(r))return{data:null,error:r};throw r}}()})}updateBucket(e,t){return Vn(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Vn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Vn(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wn(t))return{data:null,error:t};throw t}})}}class $n extends Kn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Hn(this.url,this.headers,e,this.fetch)}}let Jn="";Jn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Gn={headers:{"X-Client-Info":"supabase-js-".concat(Jn,"/").concat("2.75.1")}},Qn={schema:"public"},Yn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xn={};var Zn=n(630),er=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const tr=e=>{let t;return t=e||("undefined"===typeof fetch?Zn.default:fetch),function(){return t(...arguments)}},nr=(e,t,n)=>{const r=tr(n),a="undefined"===typeof Headers?Zn.Headers:Headers;return(n,s)=>er(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Object.assign(Object.assign({},s),{headers:l}))})};var rr=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const ar="2.75.1",sr=3e4,ir=9e4,or={"X-Client-Info":"gotrue-js/".concat(ar)},lr="X-Supabase-Api-Version",cr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ur=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class dr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function hr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class fr extends dr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class pr extends dr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class mr extends dr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class gr extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class yr extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vr extends mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class br extends mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wr extends mr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xr extends mr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function kr(e){return hr(e)&&"AuthRetryableFetchError"===e.name}class _r extends mr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class jr extends mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nr=" \t\n\r=".split(""),Er=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nr.length;t+=1)e[Nr[t].charCodeAt(0)]=-2;for(let t=0;t<Sr.length;t+=1)e[Sr[t].charCodeAt(0)]=t;return e})();function Cr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Sr[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Sr[e]),t.queuedBits-=6}}function Tr(e,t,n){const r=Er[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Or(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)Tr(e.charCodeAt(i),a,s);return t.join("")}function Pr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Rr(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Pr(r,t)}}function Ar(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Tr(e.charCodeAt(a),n,r);return new Uint8Array(t)}function zr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Cr(e,n,r)),Cr(null,n,r),t.join("")}const Ir=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Lr={tested:!1,writable:!1},Dr=()=>{if(!Ir())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(ji){return!1}if(Lr.tested)return Lr.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Lr.tested=!0,Lr.writable=!0}catch(ji){Lr.tested=!0,Lr.writable=!1}return Lr.writable};const Ur=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Mr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Fr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(Dn){return n}},qr=async(e,t)=>{await e.removeItem(t)};class Br{constructor(){this.promise=new Br.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Hr(e){const t=e.split(".");if(3!==t.length)throw new jr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ur.test(t[n]))throw new jr("JWT not in base64url format");return{header:JSON.parse(Or(t[0])),payload:JSON.parse(Or(t[1])),signature:Ar(t[2]),raw:{header:t[0],payload:t[1]}}}function Wr(e){return("0"+e.toString(16)).substr(-2)}async function Vr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Wr).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Mr(e,"".concat(t,"-code-verifier"),a);const s=await Vr(r);return[s,r===s?"plain":"s256"]}Br.promiseConstructor=Promise;const $r=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Jr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gr(e){if(!Jr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qr(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Yr(e){return JSON.parse(JSON.stringify(e))}var Xr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Zr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ea=[502,503,504];async function ta(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new xr(Zr(e),0);if(ea.includes(e.status))throw new xr(Zr(e),e.status);let r,a;try{r=await e.json()}catch(ji){throw new pr(Zr(ji),ji)}const s=function(e){const t=e.headers.get(lr);if(!t)return null;if(!t.match($r))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(ji){return null}}(e);if(s&&s.getTime()>=cr.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new _r(Zr(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new gr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new _r(Zr(r),e.status,r.weak_password.reasons);throw new fr(Zr(r),e.status||500,a)}async function na(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[lr]||(s[lr]=cr.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const i=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let o;try{o=await e(n,Object.assign({},i))}catch(ji){throw console.error(ji),new xr(Zr(ji),0)}o.ok||await ta(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(ji){await ta(ji)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ra(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function aa(e){const t=ra(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function sa(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ia(e){return{data:e,error:null}}function oa(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=Xr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function la(e){return e}const ca=["global","local","others"];var ua=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class da{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Ur(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ca[0];if(ca.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(ca.join(", ")));try{return await na(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await na(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:sa})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=ua(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await na(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:oa,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(hr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await na(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:sa})}catch(t){if(hr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await na(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:la});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(hr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Gr(e);try{return await na(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:sa})}catch(t){if(hr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Gr(e);try{return await na(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:sa})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Gr(e);try{return await na(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:sa})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Gr(e.userId);try{const{data:t,error:n}=await na(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(hr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Gr(e.userId),Gr(e.id);try{return{data:await na(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await na(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:la});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(hr(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await na(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(hr(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await na(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(hr(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await na(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(hr(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await na(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(hr(t))return{data:null,error:t};throw t}}}function ha(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const fa=!!(globalThis&&Dr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class pa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ma extends pa{}async function ga(e,t,n){fa&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fa&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw fa&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ma('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(fa)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(ji){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",ji)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}fa&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{fa&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function ya(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function va(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class ba extends Error{constructor(e){let{message:t,code:n,cause:r,name:a}=e;var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(s=null!==a&&void 0!==a?a:r instanceof Error?r.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=n}}class wa extends ba{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function xa(e){let{error:t,options:n}=e;var r,a,s;const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new ba({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=i.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new ba({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(a=i.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new ba({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(s=i.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new ba({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new ba({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new ba({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new ba({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ba({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Ta(e))return new ba({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new ba({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ba({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new ba({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ba({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ka(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new ba({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new ba({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Ta(e))return new ba({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new ba({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new ba({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ba({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var _a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const ja=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Sa(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,a=_a(e,["challenge","user","excludeCredentials"]),s=Ar(t).buffer,i=Object.assign(Object.assign({},n),{id:Ar(n.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:Ar(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function Na(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=_a(e,["challenge","allowCredentials"]),a=Ar(t).buffer,s=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:Ar(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Ea(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zr(new Uint8Array(e.response.attestationObject)),clientDataJSON:zr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Ca(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zr(new Uint8Array(a.authenticatorData)),clientDataJSON:zr(new Uint8Array(a.clientDataJSON)),signature:zr(new Uint8Array(a.signature)),userHandle:a.userHandle?zr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Ta(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Oa(){var e,t;return!!(Ir()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const Pa={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Ra={userVerification:"preferred",hints:["security-key"]};function Aa(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];for(const i of a)if(i)for(const r in i){const a=i[r];if(void 0!==a)if(Array.isArray(a))n[r]=a;else if(t(a))n[r]=a;else if(e(a)){const t=n[r];e(t)?n[r]=Aa(t,a):n[r]=Aa(a)}else n[r]=a}return n}class za{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:a,signal:s}=e;try{const{data:e,error:i}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:i};const o=null!==s&&void 0!==s?s:ja.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(a)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return Aa(Pa,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wa("Browser returned unexpected credential type",t)}:{data:null,error:new wa("Empty credential response",t)}}catch(t){return{data:null,error:xa({error:t,options:e})}}}({publicKey:r,signal:o});return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}case"request":{const r=function(e,t){return Aa(Ra,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wa("Browser returned unexpected credential type",t)}:{data:null,error:new wa("Empty credential response",t)}}catch(t){return{data:null,error:ka({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:o}));return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}}}catch(i){return hr(i)?{data:null,error:i}:{data:null,error:new pr("Unexpected error in challenge",i)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}}=e;if(!r)return{data:null,error:new dr("rpId is required for WebAuthn authentication")};try{if(!Oa())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:t});if(!e)return{data:null,error:i};const{webauthn:o}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:a,credential_response:o.credential_response}})}catch(i){return hr(i)?{data:null,error:i}:{data:null,error:new pr("Unexpected error in authenticate",i)}}}async _register(e,t){let{friendlyName:n,rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}=e;if(!r)return{data:null,error:new dr("rpId is required for WebAuthn registration")};try{if(!Oa())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:t});return o?this._verify({factorId:e.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(i){return hr(i)?{data:null,error:i}:{data:null,error:new pr("Unexpected error in register",i)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(ji){"undefined"!==typeof self&&(self.globalThis=self)}}();const Ia={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:or,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function La(e,t,n){return await n()}const Da={};class Ua{get jwks(){var e,t;return null!==(t=null===(e=Da[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Da[this.storageKey]=Object.assign(Object.assign({},Da[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Da[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Da[this.storageKey]=Object.assign(Object.assign({},Da[this.storageKey]),{cachedAt:e})}constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ua.nextInstanceID,Ua.nextInstanceID+=1,this.instanceID>0&&Ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Ia),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new da({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Ur(r.fetch),this.lock=r.lock||La,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Ir()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ga:this.lock=La,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new za(this)},this.persistSession?(r.storage?this.storage=r.storage:Dr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ha(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ha(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(ji){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",ji)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(ar,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(ji){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ir()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return hr(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return hr(t)?{error:t}:{error:new pr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await na(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ra}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(hr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Kr(this.storage,this.storageKey)),a=await na(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:ra})}else{if(!("phone"in e))throw new vr("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await na(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ra})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(hr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await na(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:aa})}else{if(!("phone"in e))throw new vr("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await na(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:aa})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new yr}}catch(t){if(hr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,a,s,i,o,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:m}=e;let g;if(Ir())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const y=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),v=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=ya(v[0]);let w=null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){const e=await g.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(i));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=ya(e.address),p=u?"".concat(u,"://").concat(r):r,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let y="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(i?"\nNonce: ".concat(i):"","\nIssued At: ").concat(s.toISOString());if(a&&(y+="\nExpiration Time: ".concat(a.toISOString())),o&&(y+="\nNot Before: ".concat(o.toISOString())),l&&(y+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}y+=e}return"".concat(g,"\n").concat(y)}({domain:y.host,address:b,statement:p,uri:y.href,version:"1",chainId:w,nonce:null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(s=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(i=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await g.request({method:"personal_sign",params:[va(h),b]})}try{const{data:t,error:n}=await na(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:ra});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new yr}}catch(p){if(hr(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(e){var t,n,r,a,s,i,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let y;if(Ir())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await na(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:zr(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ra});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new yr}}catch(m){if(hr(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await Fr(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await na(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ra});if(await qr(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new yr}}catch(a){if(hr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await na(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ra}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new yr}}catch(t){if(hr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Kr(this.storage,this.storageKey));const{error:o}=await na(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await na(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new vr("You must provide either an email or phone number.")}catch(i){if(hr(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await na(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:ra});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(hr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await Kr(this.storage,this.storageKey)),await na(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:ia})}catch(a){if(hr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new gr;const{error:r}=await na(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(hr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await na(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await na(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new vr("You must provide either an email or phone number and a type")}catch(t){if(hr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(ji){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(ji){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<ir;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Fr(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Qr()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await na(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:sa}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await na(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:sa}):{data:{user:null},error:new gr}})}catch(t){if(hr(t))return function(e){return hr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await qr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new gr;const s=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Kr(this.storage,this.storageKey));const{data:l,error:c}=await na(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:sa});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(hr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gr;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=Hr(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(hr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new gr;const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(hr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ir())throw new br("No browser detected.");if(e.error||e.error_description||e.error_code)throw new br(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new wr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new br("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new br("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=sr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(hr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Fr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return hr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await qr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Kr(this.storage,this.storageKey,!0));try{return await na(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(hr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(hr(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await na(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Ir()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(hr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:a}}=t;if(r)throw r;const{options:s,provider:i,token:o,access_token:l,nonce:c}=e,u=await na(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===a||void 0===a?void 0:a.access_token)&&void 0!==n?n:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ra}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:h}):{data:{user:null,session:null},error:new yr}}catch(r){if(hr(r))return{data:{user:null,session:null},error:r};throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await na(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(hr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await na(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:ra})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&kr(t)&&Date.now()+n-a<sr},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(ji){if(!r(a,ji))return void t(ji)}})()}))}catch(a){if(this._debug(t,"error",a),hr(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ir()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Fr(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Fr(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Mr(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Qr()}else if(a&&!a.user&&!a.user){const e=await Fr(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await qr(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,a)):a.user=Qr()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<ir;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(ir,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),kr(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new gr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Br;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new gr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),hr(a)){const e={data:null,error:a};return kr(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(ji){r.push(ji)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Yr(e);await Mr(this.storage,this.storageKey,r)}else{const e=Yr(t);await Mr(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await qr(this.storage,this.storageKey),await qr(this.storage,this.storageKey+"-code-verifier"),await qr(this.storage,this.storageKey+"-user"),this.userStorage&&await qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ir()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(ji){console.error("removing visibilitychange callback failed",ji)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/sr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(sr,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(ji){console.error("Auto refresh tick failed with error. This is likely a transient error.",ji)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(ji){if(!(ji.isAcquireTimeout||ji instanceof pa))throw ji;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Kr(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await na(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(hr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await na(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&"totp"===o.type&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(hr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Ea(e.webauthn.credential_response):Ca(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await na(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:s,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(t){if(hr(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const s=await na(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(s.error)return s;const{data:i}=s;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Sa(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Na(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(hr(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(a),"verified"===a.status&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Hr(r.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await na(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:o}}=Hr(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return Rr(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new jr("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(hr(n))return{data:null,error:n};throw n}}}Ua.nextInstanceID=0;const Ma=Ua;class Fa extends Ma{constructor(e){super(e)}}var qa=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(ji){s(ji)}}function o(e){try{l(r.throw(e))}catch(ji){s(ji)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Ba{constructor(e,t,n){var r,a,s;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o="sb-".concat(i.hostname.split(".")[0],"-auth-token"),l=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>rr(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Qn,realtime:Xn,auth:Object.assign(Object.assign({},Yn),{storageKey:o}),global:Gn});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=l.global.headers)&&void 0!==a?a:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=nr(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Rt(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new $n(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Ot(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return qa(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:l,flowType:c,lock:u,debug:d}=e;const h={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Fa({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),t),storageKey:l,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,flowType:c,lock:u,debug:d,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new vn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}}(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ha=((e,t,n)=>new Ba(e,t,n))("https://ojehvveqfvannkpqjhvy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9qZWh2dmVxZnZhbm5rcHFqaHZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2MTQ5NjIsImV4cCI6MjA3NjE5MDk2Mn0.5WIp5BaSq0iEVwzAvO5thoOWwHXBNOtz01_ZLRbJW7o");var Wa=n(579);const Va=(0,r.createContext)({}),Ka=()=>{const e=(0,r.useContext)(Va);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},$a=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{Ha.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;a(null!==(t=null===n||void 0===n?void 0:n.user)&&void 0!==t?t:null),null!==n&&void 0!==n&&n.user?c(n.user):l(!1)});const{data:{subscription:e}}=Ha.auth.onAuthStateChange((e,t)=>{var n;a(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null),null!==t&&void 0!==t&&t.user?c(t.user):(i(null),l(!1))});return()=>e.unsubscribe()},[]);const c=async e=>{try{const{data:t,error:n}=await Ha.from("users").select("*").eq("id",e.id).single();if(n&&"PGRST116"!==n.code&&console.error("Error fetching profile:",n),t){const{data:n,error:r}=await Ha.from("users_organizations").select("organization_id").eq("user_id",e.id);r?console.error("Error fetching user organizations:",r):t.organization_ids=n.map(e=>e.organization_id)}i(t)}catch(t){console.error("Error fetching profile:",t),i(null)}finally{l(!1)}},u={user:n,profile:s,role:(null===s||void 0===s?void 0:s.role)||"tenant",loading:o,signInWithEmail:async e=>{const{error:t}=await Ha.auth.signInWithOtp({email:e,options:{emailRedirectTo:window.location.origin}});if(t)throw t},signOut:async()=>{const{error:e}=await Ha.auth.signOut();if(e)throw e}};return(0,Wa.jsx)(Va.Provider,{value:u,children:t})},Ja=e=>{let{children:t,requireRole:n}=e;const{user:r,role:a,loading:s}=Ka();return s?(0,Wa.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Wa.jsx)("div",{className:"text-gray-600",children:"Loading..."})}):r?n&&a!==n?(0,Wa.jsx)(Re,{to:"manager"===a?"/manager/dashboard":"/tenant/dashboard",replace:!0}):t:(0,Wa.jsx)(Re,{to:"/signin",replace:!0})},Ga=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Qa=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Ya={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xa=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Za=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,iconNode:d}=e,h=s(e,Xa);return(0,r.createElement)("svg",u(u(u({ref:t},Ya),{},{width:a,height:a,stroke:n,strokeWidth:o?24*Number(i)/Number(a):i,className:Qa("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),es=["className"],ts=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{className:i}=n,o=s(n,es);return(0,r.createElement)(Za,u({ref:a,iconNode:t,className:Qa("lucide-".concat((l=Ga(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},o));var l});return n.displayName=Ga(e),n},ns=ts("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);class rs extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){0}render(){return this.state.hasError?(0,Wa.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",backgroundColor:"#f9fafb"},children:(0,Wa.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"40px",maxWidth:"500px",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",textAlign:"center"},children:[(0,Wa.jsx)(ns,{size:48,style:{color:"#ef4444",marginBottom:"20px"}}),(0,Wa.jsx)("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"#111827",marginBottom:"12px"},children:"Something went wrong"}),(0,Wa.jsx)("p",{style:{color:"#6b7280",marginBottom:"24px"},children:"We're sorry for the inconvenience. Please try refreshing the page."}),(0,Wa.jsx)("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#3b82f6",color:"white",padding:"10px 24px",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Refresh Page"})]})}):this.props.children}}const as=rs,ss=["children","variant","size","disabled","loading","type","onClick","className","leftIcon","rightIcon","fullWidth"];const is=function(e){let{children:t,variant:n="primary",size:a="md",disabled:i=!1,loading:o=!1,type:l="button",onClick:c,className:d="",leftIcon:h,rightIcon:f,fullWidth:p=!1}=e,m=s(e,ss);const g={primary:"bg-primary text-white hover:bg-primary-600 active:bg-primary-700 shadow-sm hover:shadow-md active:shadow-sm hover:-translate-y-0.5 active:translate-y-0",secondary:"bg-secondary-100 text-secondary-700 hover:bg-secondary-200 active:bg-secondary-300 hover:-translate-y-0.5 active:translate-y-0",accent:"bg-accent text-white hover:bg-accent-600 active:bg-accent-700 shadow-sm hover:shadow-md active:shadow-sm hover:-translate-y-0.5 active:translate-y-0",danger:"bg-error text-white hover:bg-error-600 active:bg-error-700 shadow-sm hover:shadow-md active:shadow-sm hover:-translate-y-0.5 active:translate-y-0",success:"bg-success text-white hover:bg-success-600 active:bg-success-700 shadow-sm hover:shadow-md active:shadow-sm hover:-translate-y-0.5 active:translate-y-0",outline:"border-2 border-primary text-primary bg-transparent hover:bg-primary-50 active:bg-primary-100","outline-secondary":"border-2 border-secondary-300 text-secondary-700 bg-transparent hover:bg-secondary-50 active:bg-secondary-100",ghost:"text-primary bg-transparent hover:bg-primary-50 active:bg-primary-100","ghost-secondary":"text-secondary-600 bg-transparent hover:bg-secondary-50 active:bg-secondary-100"},y={xs:"px-3 py-1.5 text-xs gap-1.5",sm:"px-4 py-2 text-sm gap-2",md:"px-5 py-2.5 text-base gap-2",lg:"px-6 py-3 text-lg gap-2.5",xl:"px-8 py-4 text-xl gap-3"},v={xs:14,sm:16,md:18,lg:20,xl:22},b=g[n]||g.primary,w=y[a]||y.md,x=v[a]||v.md,k=e=>e?r.isValidElement(e)?r.cloneElement(e,{size:x,className:"flex-shrink-0"}):e:null;return(0,Wa.jsxs)("button",u(u({type:l,onClick:c,disabled:i||o,className:"".concat("inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-300 focus-ring disabled:opacity-50 disabled:cursor-not-allowed relative overflow-hidden group"," ").concat(b," ").concat(w," ").concat(p?"w-full":""," ").concat(d)},m),{},{children:[(0,Wa.jsx)("span",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 group-active:opacity-20 transition-opacity duration-300"}),(0,Wa.jsxs)("span",{className:"relative flex items-center justify-center gap-inherit",children:[o&&(0,Wa.jsxs)("svg",{className:"animate-spin h-[1em] w-[1em]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Wa.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Wa.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!o&&h&&k(h),t,!o&&f&&k(f)]})]}))},os=["children","className","padding","variant","interactive","loading"];function ls(e){let{children:t,className:n="",padding:r="md",variant:a="default",interactive:i=!1,loading:o=!1}=e,l=s(e,os);const c="bg-white rounded-xl border border-secondary-100 transition-all duration-300",d={default:"shadow-sm",elevated:"shadow-md",flat:"shadow-none",outline:"border-2 shadow-none"},h={none:"",sm:"p-4",md:"p-6",lg:"p-8",xl:"p-10"},f=d[a]||d.default,p=h[r]||h.md,m=i?"cursor-pointer":"";return o?(0,Wa.jsx)("div",u(u({className:"".concat(c," ").concat(f," ").concat(p," ").concat(n)},l),{},{children:(0,Wa.jsxs)("div",{className:"animate-pulse",children:[(0,Wa.jsx)("div",{className:"h-4 bg-secondary-200 rounded w-3/4 mb-4"}),(0,Wa.jsxs)("div",{className:"space-y-3",children:[(0,Wa.jsx)("div",{className:"h-3 bg-secondary-200 rounded"}),(0,Wa.jsx)("div",{className:"h-3 bg-secondary-200 rounded w-5/6"})]})]})})):(0,Wa.jsx)("div",u(u({className:"".concat(c," ").concat(f," ").concat(p," ").concat(m," ").concat(n)},l),{},{children:t}))}ls.Header=function(e){let{children:t,className:n="",withBorder:r=!1}=e;return(0,Wa.jsx)("div",{className:"mb-4 ".concat(r?"pb-4 border-b border-secondary-100":""," ").concat(n),children:t})},ls.Title=function(e){let{children:t,className:n="",subtitle:r}=e;return(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 ".concat(n),children:t}),r&&(0,Wa.jsx)("p",{className:"text-sm text-secondary-500 mt-1",children:r})]})},ls.Content=function(e){let{children:t,className:n=""}=e;return(0,Wa.jsx)("div",{className:n,children:t})},ls.Footer=function(e){let{children:t,className:n="",withBorder:r=!0}=e;return(0,Wa.jsx)("div",{className:"mt-6 ".concat(r?"pt-6 border-t border-secondary-100":""," ").concat(n),children:t})};const cs=ls,us=ts("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),ds=ts("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),hs=ts("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),fs=ts("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ps=ts("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),ms=ts("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),gs=ts("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),ys=ts("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),vs=ts("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),bs=ts("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ws=ts("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),xs=ts("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function ks(){const{user:e,role:t}=Ka();return(0,r.useEffect)(()=>{document.title="Villa - Modern Apartment Maintenance Management"},[]),(0,Wa.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-white via-background to-white",children:[(0,Wa.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-secondary-100",children:(0,Wa.jsx)("div",{className:"max-w-7xl mx-auto px-6 lg:px-8",children:(0,Wa.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Wa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 shadow-md",children:(0,Wa.jsx)(us,{size:20,className:"text-white"})}),(0,Wa.jsx)("span",{className:"text-xl font-bold text-secondary-900",children:"Villa"})]}),(0,Wa.jsxs)("nav",{className:"flex items-center gap-3",children:[e?(0,Wa.jsx)(gt,{to:"manager"===t?"/manager/dashboard":"/tenant/dashboard",children:(0,Wa.jsx)(is,{variant:"ghost-secondary",size:"sm",children:"Dashboard"})}):(0,Wa.jsx)(gt,{to:"/signin",children:(0,Wa.jsx)(is,{variant:"ghost-secondary",size:"sm",children:"Sign in"})}),(0,Wa.jsx)(gt,{to:"/quote",children:(0,Wa.jsx)(is,{size:"sm",children:"Get Started"})})]})]})})}),(0,Wa.jsxs)("main",{className:"pt-24",children:[(0,Wa.jsxs)("section",{className:"max-w-6xl mx-auto px-6 lg:px-8 py-20 text-center",children:[(0,Wa.jsx)("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary-50 text-primary-700 text-sm font-medium mb-8 animate-fade-in-down",children:(0,Wa.jsx)("span",{children:"Modern maintenance management"})}),(0,Wa.jsxs)("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extrabold text-secondary-900 mb-6 animate-fade-in-up tracking-tight",children:["Apartment maintenance,",(0,Wa.jsx)("span",{className:"block bg-gradient-to-r from-primary-600 to-accent-500 bg-clip-text text-transparent",children:"beautifully simple"})]}),(0,Wa.jsx)("p",{className:"text-lg md:text-xl text-secondary-600 max-w-3xl mx-auto mb-10 leading-relaxed animate-fade-in-up",style:{animationDelay:"0.1s"},children:"Capture, track, and resolve apartment damage reports with clarity. Villa connects tenants and managers through streamlined workflows that save time and reduce friction."}),(0,Wa.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[(0,Wa.jsx)(gt,{to:"/quote",children:(0,Wa.jsx)(is,{size:"lg",leftIcon:(0,Wa.jsx)(ds,{}),children:"Request a Demo"})}),(0,Wa.jsx)("a",{href:"#features",children:(0,Wa.jsx)(is,{variant:"outline-secondary",size:"lg",children:"Learn More"})})]})]}),(0,Wa.jsxs)("section",{id:"features",className:"max-w-7xl mx-auto px-6 lg:px-8 py-20",children:[(0,Wa.jsxs)("div",{className:"text-center mb-16",children:[(0,Wa.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-secondary-900 mb-4",children:"Everything you need to manage maintenance"}),(0,Wa.jsx)("p",{className:"text-lg text-secondary-600 max-w-2xl mx-auto",children:"Built for modern property management teams who value clarity and efficiency"})]}),(0,Wa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:(0,Wa.jsx)(hs,{}),title:"Visual Reports",desc:"Tenants capture damage with photos and context in seconds",color:"from-primary-500 to-primary-600"},{icon:(0,Wa.jsx)(fs,{}),title:"Smart Triage",desc:"Auto-prioritize issues and route to the right team instantly",color:"from-accent-500 to-accent-600"},{icon:(0,Wa.jsx)(ps,{}),title:"Real-time Updates",desc:"Keep everyone informed with automatic status notifications",color:"from-success-500 to-success-600"},{icon:(0,Wa.jsx)(ms,{}),title:"Clear Insights",desc:"Track metrics and export reports for owners and stakeholders",color:"from-warning-500 to-warning-600"}].map((e,t)=>(0,Wa.jsxs)(cs,{interactive:!0,variant:"elevated",className:"group animate-fade-in-up",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,Wa.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br ".concat(e.color," flex items-center justify-center text-white mb-4 group-hover:scale-110 transition-transform duration-300"),children:r.cloneElement(e.icon,{size:24})}),(0,Wa.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-2",children:e.title}),(0,Wa.jsx)("p",{className:"text-sm text-secondary-600 leading-relaxed",children:e.desc})]},e.title))})]}),(0,Wa.jsxs)("section",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-20 bg-gradient-to-br from-primary-50 to-accent-50 rounded-3xl my-20",children:[(0,Wa.jsxs)("div",{className:"text-center mb-12",children:[(0,Wa.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-secondary-900 mb-4",children:"Built for every stakeholder"}),(0,Wa.jsx)("p",{className:"text-lg text-secondary-600 max-w-2xl mx-auto",children:"Villa delivers value across your entire property management ecosystem"})]}),(0,Wa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:(0,Wa.jsx)(gs,{}),title:"For Tenants",desc:"Report issues from any device with photos and context. Track progress in real-time.",features:["Mobile-friendly","Photo upload","Status tracking"]},{icon:(0,Wa.jsx)(ys,{}),title:"For Managers",desc:"Triage requests efficiently with smart prioritization and vendor coordination.",features:["Smart routing","Team collaboration","Analytics dashboard"]},{icon:(0,Wa.jsx)(vs,{}),title:"For Owners",desc:"Protect your assets and maintain property value with comprehensive insights.",features:["Detailed reports","Cost tracking","Compliance ready"]}].map((e,t)=>(0,Wa.jsxs)(cs,{variant:"elevated",padding:"lg",className:"bg-white/80 backdrop-blur-sm hover:bg-white transition-all duration-300",children:[(0,Wa.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center text-white mb-5",children:r.cloneElement(e.icon,{size:28})}),(0,Wa.jsx)("h3",{className:"text-xl font-bold text-secondary-900 mb-3",children:e.title}),(0,Wa.jsx)("p",{className:"text-secondary-600 mb-4 leading-relaxed",children:e.desc}),(0,Wa.jsx)("ul",{className:"space-y-2",children:e.features.map(e=>(0,Wa.jsxs)("li",{className:"flex items-center gap-2 text-sm text-secondary-700",children:[(0,Wa.jsx)(bs,{size:16,className:"text-success-500 flex-shrink-0"}),(0,Wa.jsx)("span",{children:e})]},e))})]},e.title))})]}),(0,Wa.jsxs)("section",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-20",children:[(0,Wa.jsxs)("div",{className:"text-center mb-16",children:[(0,Wa.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-secondary-900 mb-4",children:"Simple workflow, powerful results"}),(0,Wa.jsx)("p",{className:"text-lg text-secondary-600 max-w-2xl mx-auto",children:"From submission to resolution in four streamlined steps"})]}),(0,Wa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{step:"01",icon:(0,Wa.jsx)(hs,{}),title:"Submit",desc:"Tenant captures damage with photos and details in under a minute"},{step:"02",icon:(0,Wa.jsx)(ws,{}),title:"Triage",desc:"Smart prioritization routes the request to the right team instantly"},{step:"03",icon:(0,Wa.jsx)(xs,{}),title:"Resolve",desc:"Track progress, coordinate vendors, and update stakeholders in real-time"},{step:"04",icon:(0,Wa.jsx)(bs,{}),title:"Review",desc:"Export comprehensive reports for owners, insurance, and compliance"}].map((e,t)=>(0,Wa.jsxs)("div",{className:"relative",children:[t<3&&(0,Wa.jsx)("div",{className:"hidden lg:block absolute top-12 left-1/2 w-full h-0.5 bg-gradient-to-r from-primary-200 to-accent-200"}),(0,Wa.jsxs)(cs,{variant:"elevated",padding:"lg",className:"relative z-10 text-center",children:[(0,Wa.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500 to-accent-500 text-white text-xl font-bold mb-4 shadow-lg",children:e.step}),(0,Wa.jsx)("div",{className:"w-12 h-12 mx-auto mb-4 flex items-center justify-center text-primary-600",children:r.cloneElement(e.icon,{size:28})}),(0,Wa.jsx)("h3",{className:"text-lg font-bold text-secondary-900 mb-3",children:e.title}),(0,Wa.jsx)("p",{className:"text-sm text-secondary-600 leading-relaxed",children:e.desc})]})]},e.step))})]}),(0,Wa.jsxs)("section",{className:"max-w-4xl mx-auto px-6 lg:px-8 py-20",children:[(0,Wa.jsxs)("div",{className:"text-center mb-12",children:[(0,Wa.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-secondary-900 mb-4",children:"Common questions"}),(0,Wa.jsx)("p",{className:"text-lg text-secondary-600",children:"Everything you need to know about Villa"})]}),(0,Wa.jsx)("div",{className:"space-y-4",children:[{q:"Can Villa replace our current maintenance system?",a:"Yes. Villa provides comprehensive intake, triage, communication, and tracking capabilities. We also offer data export and API access for integration with existing systems."},{q:"Do tenants need to install a mobile app?",a:"No. Villa works seamlessly in any web browser on desktop, tablet, or mobile. Tenants can submit reports instantly without downloads or installations."},{q:"How quickly can we get started?",a:"Most property management teams are fully operational within 24 hours. Our onboarding process is streamlined, and our team provides personalized support to ensure a smooth transition."},{q:"What about data security and privacy?",a:"Villa uses enterprise-grade encryption and complies with industry security standards. All data is encrypted in transit and at rest. We never sell or share your data with third parties."}].map((e,t)=>(0,Wa.jsxs)(cs,{variant:"outline",padding:"lg",className:"hover:border-primary-200 transition-colors",children:[(0,Wa.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-3",children:e.q}),(0,Wa.jsx)("p",{className:"text-secondary-600 leading-relaxed",children:e.a})]},t))})]}),(0,Wa.jsx)("section",{className:"max-w-5xl mx-auto px-6 lg:px-8 py-20",children:(0,Wa.jsxs)(cs,{variant:"elevated",padding:"xl",className:"bg-gradient-to-br from-primary-600 to-accent-600 text-white text-center border-none shadow-2xl",children:[(0,Wa.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-white",children:"Ready to simplify maintenance?"}),(0,Wa.jsx)("p",{className:"text-lg text-white/90 mb-8 max-w-2xl mx-auto",children:"Join property managers who are transforming maintenance operations with Villa"}),(0,Wa.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,Wa.jsx)(gt,{to:"/quote",children:(0,Wa.jsx)(is,{size:"lg",variant:"secondary",leftIcon:(0,Wa.jsx)(ds,{}),className:"bg-white text-primary-700 hover:bg-white/90",children:"Request a Demo"})}),e?(0,Wa.jsx)(gt,{to:"manager"===t?"/manager/dashboard":"/tenant/dashboard",children:(0,Wa.jsx)(is,{size:"lg",variant:"outline-secondary",className:"border-white text-white hover:bg-white/10",children:"Go to Dashboard"})}):(0,Wa.jsx)(gt,{to:"/signin",children:(0,Wa.jsx)(is,{size:"lg",variant:"outline-secondary",className:"border-white text-white hover:bg-white/10",children:"Sign In"})})]})]})})]}),(0,Wa.jsx)("footer",{className:"border-t border-secondary-200 bg-white mt-20",children:(0,Wa.jsxs)("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-12",children:[(0,Wa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[(0,Wa.jsxs)("div",{className:"md:col-span-2",children:[(0,Wa.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 shadow-md",children:(0,Wa.jsx)(us,{size:24,className:"text-white"})}),(0,Wa.jsx)("span",{className:"text-xl font-bold text-secondary-900",children:"Villa"})]}),(0,Wa.jsx)("p",{className:"text-secondary-600 mb-4 max-w-md",children:"Modern apartment maintenance management that brings clarity and efficiency to property operations."})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h4",{className:"font-semibold text-secondary-900 mb-4",children:"Product"}),(0,Wa.jsxs)("ul",{className:"space-y-2",children:[(0,Wa.jsx)("li",{children:(0,Wa.jsx)("a",{href:"#features",className:"text-secondary-600 hover:text-primary transition-colors",children:"Features"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/quote",className:"text-secondary-600 hover:text-primary transition-colors",children:"Pricing"})})]})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h4",{className:"font-semibold text-secondary-900 mb-4",children:"Access"}),(0,Wa.jsxs)("ul",{className:"space-y-2",children:[(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/signin",className:"text-secondary-600 hover:text-primary transition-colors",children:"Sign In"})}),e&&(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"manager"===t?"/manager/dashboard":"/tenant/dashboard",className:"text-secondary-600 hover:text-primary transition-colors",children:"Dashboard"})})]})]})]}),(0,Wa.jsxs)("div",{className:"pt-8 border-t border-secondary-200 flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,Wa.jsxs)("p",{className:"text-sm text-secondary-500",children:["\xa9 ",(new Date).getFullYear()," Villa. All rights reserved."]}),(0,Wa.jsxs)("div",{className:"flex gap-6 text-sm text-secondary-500",children:[(0,Wa.jsx)("a",{href:"#",className:"hover:text-primary transition-colors",children:"Privacy"}),(0,Wa.jsx)("a",{href:"#",className:"hover:text-primary transition-colors",children:"Terms"}),(0,Wa.jsx)("a",{href:"#",className:"hover:text-primary transition-colors",children:"Contact"})]})]})]})})]})}const _s=["label","error","helperText","className","containerClassName"];const js=function(e){let{label:t,error:n,helperText:r,className:a="",containerClassName:i=""}=e,o=s(e,_s);const l=n?"border-error focus:ring-error":"border-secondary-300 focus:border-primary";return(0,Wa.jsxs)("div",{className:"flex flex-col gap-2 ".concat(i),children:[t&&(0,Wa.jsx)("label",{className:"text-sm font-semibold text-secondary-700",children:t}),(0,Wa.jsx)("input",u({className:"".concat("w-full px-4 py-3 border rounded-lg transition-smooth focus-ring bg-white"," ").concat(l," ").concat(a)},o)),n&&(0,Wa.jsx)("p",{className:"text-sm text-error",children:n}),r&&!n&&(0,Wa.jsx)("p",{className:"text-sm text-secondary-500",children:r})]})},Ss=ts("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ns=ts("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);function Es(){const{signInWithEmail:e,user:t,role:n}=Ka(),[a,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(""),h=me();(0,r.useEffect)(()=>{if(document.title="Sign In - Villa",t&&n){h("manager"===n?"/manager/dashboard":"/tenant/dashboard",{replace:!0})}},[t,n,h]);return t?null:l?(0,Wa.jsxs)("div",{className:"min-h-screen flex",children:[(0,Wa.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary-600 to-accent-600 p-12 flex-col justify-between text-white",children:[(0,Wa.jsxs)(gt,{to:"/",className:"flex items-center gap-3",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 backdrop-blur-sm",children:(0,Wa.jsx)(us,{size:28,className:"text-white"})}),(0,Wa.jsx)("span",{className:"text-2xl font-bold",children:"Villa"})]}),(0,Wa.jsxs)("div",{className:"max-w-md",children:[(0,Wa.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center mb-6",children:(0,Wa.jsx)(bs,{size:32,className:"text-white"})}),(0,Wa.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Check your email"}),(0,Wa.jsx)("p",{className:"text-white/80 text-lg leading-relaxed",children:"We've sent a secure magic link to help you sign in quickly and safely."})]}),(0,Wa.jsxs)("div",{className:"text-white/60 text-sm",children:["Modern maintenance management \xa9 ",(new Date).getFullYear()]})]}),(0,Wa.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:(0,Wa.jsxs)("div",{className:"max-w-md w-full animate-fade-in-up",children:[(0,Wa.jsxs)(gt,{to:"/",className:"inline-flex items-center gap-2 text-secondary-600 hover:text-primary transition-colors mb-8",children:[(0,Wa.jsx)(Ss,{size:16}),(0,Wa.jsx)("span",{className:"text-sm",children:"Back to home"})]}),(0,Wa.jsxs)(cs,{variant:"elevated",padding:"xl",className:"text-center",children:[(0,Wa.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-success-100 flex items-center justify-center animate-bounce-in",children:(0,Wa.jsx)(Ns,{size:32,className:"text-success-600"})}),(0,Wa.jsx)("h1",{className:"text-3xl font-bold text-secondary-900 mb-4",children:"Check your email"}),(0,Wa.jsx)("p",{className:"text-secondary-600 mb-6 leading-relaxed",children:"We've sent a magic link to"}),(0,Wa.jsx)("div",{className:"px-4 py-3 rounded-xl bg-primary-50 border border-primary-200 mb-6",children:(0,Wa.jsx)("p",{className:"font-semibold text-primary-700",children:a})}),(0,Wa.jsx)("p",{className:"text-sm text-secondary-500 mb-8",children:"Click the link in the email to sign in to your account. The link will expire in 15 minutes."}),(0,Wa.jsxs)("div",{className:"pt-6 border-t border-secondary-200",children:[(0,Wa.jsx)("p",{className:"text-sm text-secondary-600 mb-4",children:"Didn't receive the email?"}),(0,Wa.jsx)(is,{variant:"outline-secondary",size:"sm",onClick:()=>{c(!1),s("")},children:"Try again"})]})]})]})})]}):(0,Wa.jsxs)("div",{className:"min-h-screen flex",children:[(0,Wa.jsxs)("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary-600 to-accent-600 p-12 flex-col justify-between text-white",children:[(0,Wa.jsxs)(gt,{to:"/",className:"flex items-center gap-3",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-white/20 backdrop-blur-sm",children:(0,Wa.jsx)(us,{size:28,className:"text-white"})}),(0,Wa.jsx)("span",{className:"text-2xl font-bold",children:"Villa"})]}),(0,Wa.jsxs)("div",{className:"max-w-md",children:[(0,Wa.jsx)("h2",{className:"text-4xl font-bold mb-6",children:"Welcome to modern apartment maintenance"}),(0,Wa.jsx)("p",{className:"text-white/90 text-lg mb-8 leading-relaxed",children:"Streamline maintenance requests, track progress, and keep your properties in excellent condition."}),(0,Wa.jsx)("div",{className:"space-y-4",children:[{icon:(0,Wa.jsx)(ws,{}),text:"Fast and secure magic link authentication"},{icon:(0,Wa.jsx)(ys,{}),text:"Enterprise-grade security and privacy"},{icon:(0,Wa.jsx)(xs,{}),text:"Access your dashboard in seconds"}].map((e,t)=>(0,Wa.jsxs)("div",{className:"flex items-center gap-3 animate-fade-in-up",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,Wa.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center",children:r.cloneElement(e.icon,{size:20})}),(0,Wa.jsx)("span",{className:"text-white/90",children:e.text})]},t))})]}),(0,Wa.jsxs)("div",{className:"text-white/60 text-sm",children:["Modern maintenance management \xa9 ",(new Date).getFullYear()]})]}),(0,Wa.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-background",children:(0,Wa.jsxs)("div",{className:"max-w-md w-full animate-fade-in-up",children:[(0,Wa.jsxs)("div",{className:"lg:hidden flex items-center gap-3 mb-8",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 shadow-md",children:(0,Wa.jsx)(us,{size:24,className:"text-white"})}),(0,Wa.jsx)("span",{className:"text-xl font-bold text-secondary-900",children:"Villa"})]}),(0,Wa.jsxs)(gt,{to:"/",className:"inline-flex items-center gap-2 text-secondary-600 hover:text-primary transition-colors mb-8",children:[(0,Wa.jsx)(Ss,{size:16}),(0,Wa.jsx)("span",{className:"text-sm",children:"Back to home"})]}),(0,Wa.jsxs)("div",{className:"mb-8",children:[(0,Wa.jsx)("h1",{className:"text-3xl font-bold text-secondary-900 mb-2",children:"Sign in to your account"}),(0,Wa.jsx)("p",{className:"text-secondary-600",children:"Enter your email to receive a magic link"})]}),(0,Wa.jsx)(cs,{variant:"elevated",padding:"lg",children:(0,Wa.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0),d("");try{await e(a),c(!0)}catch(n){d(n.message||"Failed to send magic link")}finally{o(!1)}},className:"space-y-6",children:[(0,Wa.jsx)(js,{type:"email",label:"Email address",placeholder:"you@example.com",value:a,onChange:e=>s(e.target.value),required:!0,error:u}),u&&(0,Wa.jsx)("div",{className:"px-4 py-3 rounded-lg bg-error-50 border border-error-200 text-error-700 text-sm",children:u}),(0,Wa.jsx)(is,{type:"submit",disabled:i,loading:i,fullWidth:!0,size:"lg",leftIcon:(0,Wa.jsx)(Ns,{}),children:"Send Magic Link"}),(0,Wa.jsx)("div",{className:"text-center",children:(0,Wa.jsx)("p",{className:"text-xs text-secondary-500",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})}),(0,Wa.jsx)("div",{className:"mt-6 text-center",children:(0,Wa.jsxs)("p",{className:"text-sm text-secondary-600",children:["Don't have an account?"," ",(0,Wa.jsx)(gt,{to:"/quote",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Request access"})]})})]})})]})}const Cs=["label","error","helperText","className","containerClassName","rows"];const Ts=function(e){let{label:t,error:n,helperText:r,className:a="",containerClassName:i="",rows:o=4}=e,l=s(e,Cs);const c=n?"border-error focus:ring-error":"border-secondary-300 focus:border-primary";return(0,Wa.jsxs)("div",{className:"flex flex-col gap-2 ".concat(i),children:[t&&(0,Wa.jsx)("label",{className:"text-sm font-semibold text-secondary-700",children:t}),(0,Wa.jsx)("textarea",u({rows:o,className:"".concat("w-full px-4 py-3 border rounded-lg transition-smooth focus-ring bg-white resize-vertical"," ").concat(c," ").concat(a)},l)),n&&(0,Wa.jsx)("p",{className:"text-sm text-error",children:n}),r&&!n&&(0,Wa.jsx)("p",{className:"text-sm text-secondary-500",children:r})]})};function Os(){r.useEffect(()=>{document.title="Request a Quote - Villa"},[]);const[e,t]=r.useState({name:"",email:"",phone:"",portfolioSize:"",message:""}),[n,a]=r.useState(!1),[s,i]=r.useState(!1),[o,l]=r.useState("");function c(e,n){t(t=>u(u({},t),{},{[e]:n}))}return(0,Wa.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-secondary-900 to-black text-white",children:[(0,Wa.jsxs)("header",{className:"flex items-center justify-between px-8 py-6 border-b border-white border-opacity-10",children:[(0,Wa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Wa.jsx)("img",{src:"/favicon-32x32.png",alt:"Villa",width:28,height:28}),(0,Wa.jsx)("span",{className:"text-lg font-bold",children:"Villa"})]}),(0,Wa.jsxs)("nav",{className:"flex items-center gap-4",children:[(0,Wa.jsx)(gt,{to:"/",className:"hover:text-primary-300 transition-smooth",children:"Home"}),(0,Wa.jsx)(gt,{to:"/signin",children:(0,Wa.jsx)(is,{variant:"secondary",children:"Sign in"})})]})]}),(0,Wa.jsx)("main",{className:"px-6 py-12",children:(0,Wa.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Wa.jsx)("h1",{className:"mb-2",children:"Request a quote"}),(0,Wa.jsx)("p",{className:"text-white text-opacity-85 mb-6",children:"Tell us a bit about your properties and we will reach out shortly."}),s&&(0,Wa.jsx)("div",{className:"mb-6 px-4 py-3 rounded-lg bg-success-100 bg-opacity-20 border border-success-400 text-white",children:"Thanks! We received your request and will be in touch."}),o&&(0,Wa.jsx)("div",{className:"mb-6 px-4 py-3 rounded-lg bg-error-100 bg-opacity-20 border border-error-400 text-white",children:o}),(0,Wa.jsx)(cs,{className:"bg-white bg-opacity-5 border border-white border-opacity-10",children:(0,Wa.jsxs)("form",{onSubmit:async function(n){n.preventDefault(),a(!0),l("");try{const{error:n}=await Ha.from("quotes").insert({name:e.name,email:e.email,phone:e.phone,portfolio_size:e.portfolioSize,message:e.message,status:"new",source:"website"});if(n)throw n;i(!0),t({name:"",email:"",phone:"",portfolioSize:"",message:""})}catch(r){l("Something went wrong. Please try again.")}finally{a(!1)}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Wa.jsx)(js,{label:"Name",value:e.name,onChange:e=>c("name",e.target.value),required:!0,placeholder:"Full name",className:"bg-black bg-opacity-30 border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-50",containerClassName:"text-white"}),(0,Wa.jsx)(js,{type:"email",label:"Email",value:e.email,onChange:e=>c("email",e.target.value),required:!0,placeholder:"you@company.com",className:"bg-black bg-opacity-30 border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-50",containerClassName:"text-white"}),(0,Wa.jsx)(js,{label:"Phone",value:e.phone,onChange:e=>c("phone",e.target.value),placeholder:"(555) 555-5555",className:"bg-black bg-opacity-30 border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-50",containerClassName:"text-white"}),(0,Wa.jsx)(js,{label:"Portfolio size",value:e.portfolioSize,onChange:e=>c("portfolioSize",e.target.value),placeholder:"Units or doors",className:"bg-black bg-opacity-30 border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-50",containerClassName:"text-white"}),(0,Wa.jsx)("div",{className:"md:col-span-2",children:(0,Wa.jsx)(Ts,{label:"What are you looking to improve?",value:e.message,onChange:e=>c("message",e.target.value),rows:6,placeholder:"Share any context (e.g., current tools, challenges, timelines)",className:"bg-black bg-opacity-30 border-white border-opacity-20 text-white placeholder:text-white placeholder:text-opacity-50",containerClassName:"text-white"})}),(0,Wa.jsxs)("div",{className:"md:col-span-2 flex gap-3 items-center",children:[(0,Wa.jsx)(is,{type:"submit",disabled:n,loading:n,variant:"secondary",size:"lg",children:"Request a quote"}),(0,Wa.jsx)(gt,{to:"/",className:"text-white hover:text-primary-300 transition-smooth",children:"Back to home"})]})]})})]})})]})}var Ps=n(950);const Rs=function(e){let{elementInfo:t}=e;return(0,Wa.jsx)("li",{className:"w-full m-0",children:(0,Wa.jsx)(yt,{to:t.path,className:e=>{let{isActive:t}=e;return"group relative flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-300 no-underline ".concat(t?"bg-primary-50 text-primary-700 shadow-sm":"text-secondary-600 hover:bg-secondary-50 hover:text-secondary-900")},children:e=>{let{isActive:n}=e;return(0,Wa.jsxs)(Wa.Fragment,{children:[n&&(0,Wa.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-primary-600 rounded-r-full transition-all duration-300"}),(0,Wa.jsx)("span",{className:"flex-shrink-0 transition-transform duration-300 ".concat(n?"scale-110":"group-hover:scale-105"),children:t.icon}),(0,Wa.jsx)("span",{className:"flex-1",children:t.name}),t.badge&&(0,Wa.jsx)("span",{className:"flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-semibold transition-all duration-300 ".concat(n?"bg-primary-600 text-white":"bg-secondary-200 text-secondary-700 group-hover:bg-secondary-300"),children:t.badge})]})}})},t.id)},As=ts("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function zs(e){let{isOpen:t,onClose:n,children:a,size:s="md",className:i=""}=e;if((0,r.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t&&n()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,n]),!t)return null;const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},l=o[s]||o.md;return(0,Wa.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 animate-fade-in",children:[(0,Wa.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:n}),(0,Wa.jsx)("div",{className:"relative bg-background rounded-xl shadow-xl max-h-[90vh] overflow-y-auto scrollbar-thin w-full ".concat(l," ").concat(i," animate-slide-in"),children:a})]})}zs.Header=function(e){let{children:t,onClose:n,className:r=""}=e;return(0,Wa.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200 ".concat(r),children:[(0,Wa.jsx)("div",{className:"flex-1",children:t}),n&&(0,Wa.jsx)("button",{onClick:n,className:"ml-4 text-secondary-100 hover:text-secondary-600 transition-smooth focus-ring rounded-lg p-1","aria-label":"Close",children:(0,Wa.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})},zs.Title=function(e){let{children:t,className:n=""}=e;return(0,Wa.jsx)("h2",{className:"text-2xl font-semibold text-secondary-800 ".concat(n),children:t})},zs.Content=function(e){let{children:t,className:n=""}=e;return(0,Wa.jsx)("div",{className:"p-6 ".concat(n),children:t})},zs.Footer=function(e){let{children:t,className:n=""}=e;return(0,Wa.jsx)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-secondary-200 ".concat(n),children:t})};const Is=zs,Ls=ts("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Ds=function(e){let{isOpen:t,onClose:n}=e;const{user:a,profile:s,signOut:i}=Ka(),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{t&&null!==s&&void 0!==s&&s.organization_ids&&d()},[t,s]);const d=async()=>{u(!0);try{const{data:e,error:t}=await Ha.from("organizations").select("name").in("id",s.organization_ids);if(t)throw t;l(e||[])}catch(e){console.error("Error fetching organizations:",e),l([])}finally{u(!1)}};return(0,Wa.jsxs)(Is,{isOpen:t,onClose:n,size:"md",children:[(0,Wa.jsx)(Is.Header,{onClose:n,children:(0,Wa.jsx)(Is.Title,{children:"Account Information"})}),(0,Wa.jsx)(Is.Content,{children:(0,Wa.jsxs)("div",{className:"space-y-6",children:[(0,Wa.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-accent-400 to-accent-600 text-white font-semibold text-2xl shadow-lg mb-4",children:(()=>{if(null===a||void 0===a||!a.email)return"U";const e=a.email.split("@")[0],t=e.split(/[._-]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e.substring(0,2).toUpperCase()})()}),(0,Wa.jsx)("h3",{className:"text-xl font-semibold text-secondary-800",children:null!==a&&void 0!==a&&a.email?a.email.split("@")[0]:"User"})]}),(0,Wa.jsxs)("div",{className:"space-y-4",children:[(0,Wa.jsx)("div",{className:"bg-secondary-50 rounded-lg p-4",children:(0,Wa.jsxs)("div",{className:"flex items-center gap-3 text-secondary-700",children:[(0,Wa.jsx)(Ns,{size:18,className:"text-secondary-400 flex-shrink-0"}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 mb-1",children:"Email"}),(0,Wa.jsx)("p",{className:"text-sm font-medium",children:null===a||void 0===a?void 0:a.email})]})]})}),(0,Wa.jsx)("div",{className:"bg-secondary-50 rounded-lg p-4",children:(0,Wa.jsxs)("div",{className:"flex items-center gap-3 text-secondary-700",children:[(0,Wa.jsx)(us,{size:18,className:"text-secondary-400 flex-shrink-0"}),(0,Wa.jsxs)("div",{className:"flex-1",children:[(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 mb-1",children:"Organization"}),c?(0,Wa.jsx)("p",{className:"text-sm text-secondary-400",children:"Loading..."}):o.length>0?(0,Wa.jsx)("div",{className:"space-y-1",children:o.map((e,t)=>(0,Wa.jsx)("p",{className:"text-sm font-medium",children:e.name},t))}):(0,Wa.jsx)("p",{className:"text-sm text-secondary-400",children:"No organization"})]})]})}),(null===a||void 0===a?void 0:a.created_at)&&(0,Wa.jsx)("div",{className:"bg-secondary-50 rounded-lg p-4",children:(0,Wa.jsxs)("div",{className:"flex items-center gap-3 text-secondary-700",children:[(0,Wa.jsx)(Ls,{size:18,className:"text-secondary-400 flex-shrink-0"}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 mb-1",children:"Account Created"}),(0,Wa.jsx)("p",{className:"text-sm font-medium",children:(h=a.created_at,new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]})]})})]})]})}),(0,Wa.jsx)(Is.Footer,{children:(0,Wa.jsx)(is,{variant:"danger",onClick:async()=>{try{await i(),n()}catch(e){console.error("Error signing out:",e),alert("Failed to sign out. Please try again.")}},className:"w-full",children:"Sign Out"})})]});var h};const Us=function(e){var t;let{navElements:n}=e;const{user:a,role:s}=Ka(),i=me(),[o,l]=(0,r.useState)(!1);return(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)("nav",{className:"fixed w-315 h-screen bg-white border-r border-secondary-100 flex flex-col shadow-sm",children:[(0,Wa.jsx)("div",{className:"px-6 py-6 border-b border-secondary-100",children:(0,Wa.jsxs)("button",{onClick:()=>{i("manager"===s?"/manager/dashboard":"/tenant/dashboard")},className:"flex items-center gap-3 w-full cursor-pointer hover:opacity-80 transition-opacity duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 rounded-lg p-1 -m-1","aria-label":"Go to dashboard",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-700 shadow-md",children:(0,Wa.jsx)(us,{size:24,className:"text-white"})}),(0,Wa.jsxs)("div",{className:"text-left",children:[(0,Wa.jsx)("h1",{className:"text-xl font-bold text-secondary-900 leading-none mb-0.5",children:"Villa"}),(0,Wa.jsxs)("p",{className:"text-xs text-secondary-500 capitalize leading-none",children:[s||"User"," Portal"]})]})]})}),(0,Wa.jsx)("ul",{className:"flex flex-col flex-1 m-0 list-none gap-1 px-3 py-4 overflow-y-auto scrollbar-thin",children:n.map(e=>(0,Wa.jsx)(Rs,{elementInfo:e},e.id))}),(0,Wa.jsx)("div",{className:"px-4 py-4 border-t border-secondary-100 bg-secondary-25",children:(0,Wa.jsxs)("button",{className:"flex items-center gap-3 px-2 w-full rounded-lg hover:bg-secondary-100 transition-colors cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",onClick:()=>l(!0),"aria-label":"Open user profile",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-br from-accent-400 to-accent-600 text-white font-semibold text-sm shadow-sm flex-shrink-0",children:(()=>{if(null===a||void 0===a||!a.email)return"U";const e=a.email,t=e.split("@")[0].split(".");return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e.substring(0,2).toUpperCase()})()}),(0,Wa.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,Wa.jsx)("p",{className:"text-sm font-medium text-secondary-900 truncate",children:(null===a||void 0===a||null===(t=a.email)||void 0===t?void 0:t.split("@")[0])||"User"}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 truncate",children:(null===a||void 0===a?void 0:a.email)||"No email"})]}),(0,Wa.jsx)("div",{className:"flex-shrink-0 p-1.5",children:(0,Wa.jsx)(As,{size:18,className:"text-secondary-400"})})]})})]}),(0,Ps.createPortal)((0,Wa.jsx)(Ds,{isOpen:o,onClose:()=>l(!1)}),document.body)]})};const Ms=ts("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]);const Fs=function(e){let{children:t,variant:n="default",size:r="md",className:a=""}=e;const s={default:"bg-secondary-100 text-secondary-700",primary:"bg-primary-100 text-primary-700",success:"bg-success-100 text-success-700",warning:"bg-warning-100 text-warning-700",error:"bg-error-100 text-error-700",open:"bg-error-100 text-error-700","in-progress":"bg-warning-100 text-warning-700",resolved:"bg-success-100 text-success-700",low:"bg-success-100 text-success-700",medium:"bg-primary-100 text-primary-700",high:"bg-warning-100 text-warning-700",urgent:"bg-error-100 text-error-700"},i={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-1.5 text-base"},o=s[n]||s.default,l=i[r]||i.md;return(0,Wa.jsx)("span",{className:"".concat("inline-flex items-center justify-center font-medium rounded-full"," ").concat(o," ").concat(l," ").concat(a),children:t})};const qs=function(e){let{icon:t,title:n,description:r,action:a,className:s=""}=e;return(0,Wa.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center ".concat(s),children:[t&&(0,Wa.jsx)("div",{className:"mb-4 text-secondary-300",children:t}),n&&(0,Wa.jsx)("h3",{className:"text-lg font-semibold text-secondary-700 mb-2",children:n}),r&&(0,Wa.jsx)("p",{className:"text-sm text-secondary-500 mb-6 max-w-sm",children:r}),a&&(0,Wa.jsx)("div",{children:a})]})};const Bs=function(e){let{tickets:t,onTicketClick:n}=e;return 0===t.length?(0,Wa.jsx)(qs,{icon:(0,Wa.jsx)(Ms,{size:64}),title:"No maintenance requests yet",description:'Click "New Request" to submit your first maintenance request'}):(0,Wa.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Wa.jsx)("div",{children:(0,Wa.jsx)(r,{ticket:e})},e.id))});function r(e){let{ticket:t}=e;return(0,Wa.jsxs)(cs,{interactive:!0,onClick:()=>n&&n(t),className:"cursor-pointer hover:shadow-lg transition-all duration-200",children:[(0,Wa.jsx)("h3",{className:"text-lg font-semibold text-secondary-800 mb-3",children:t.title}),(0,Wa.jsxs)("div",{className:"flex items-center gap-3 mb-3 text-sm text-secondary-500",children:[(0,Wa.jsx)("span",{children:t.date}),(0,Wa.jsx)(Fs,{variant:t.severity,children:t.severity}),(0,Wa.jsx)(Fs,{variant:t.status||"open",children:(t.status||"open").replace("_"," ")})]}),(0,Wa.jsx)("p",{className:"text-secondary-700 mb-3 line-clamp-3",children:t.description}),t.image_urls&&t.image_urls.length>0&&(0,Wa.jsxs)("div",{className:"grid grid-cols-4 gap-2 mt-4",children:[t.image_urls.slice(0,4).map((e,t)=>(0,Wa.jsx)("img",{src:e,alt:"Attachment ".concat(t+1),className:"w-full h-24 object-cover rounded-lg"},t)),t.image_urls.length>4&&(0,Wa.jsx)("div",{className:"w-full h-24 bg-secondary-200 rounded-lg flex items-center justify-center",children:(0,Wa.jsxs)("span",{className:"text-secondary-500 text-sm font-medium",children:["+",t.image_urls.length-4," more"]})})]}),(0,Wa.jsx)("div",{className:"mt-4 pt-3 border-t border-secondary-100",children:(0,Wa.jsx)("p",{className:"text-sm text-secondary-500 text-center",children:"Click to view details"})})]})}},Hs=["label","error","helperText","children","className","containerClassName"];const Ws=function(e){let{label:t,error:n,helperText:r,children:a,className:i="",containerClassName:o=""}=e,l=s(e,Hs);const c=n?"border-error focus:ring-error":"border-secondary-300 focus:border-primary";return(0,Wa.jsxs)("div",{className:"flex flex-col gap-2 ".concat(o),children:[t&&(0,Wa.jsx)("label",{className:"text-sm font-semibold text-secondary-700",children:t}),(0,Wa.jsxs)("div",{className:"relative",children:[(0,Wa.jsx)("select",u(u({className:"".concat("w-full pl-4 pr-12 py-3 border rounded-lg transition-smooth focus-ring bg-white appearance-none cursor-pointer"," ").concat(c," ").concat(i)},l),{},{children:a})),(0,Wa.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none",children:(0,Wa.jsx)("svg",{className:"w-5 h-5 text-secondary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),n&&(0,Wa.jsx)("p",{className:"text-sm text-error",children:n}),r&&!n&&(0,Wa.jsx)("p",{className:"text-sm text-secondary-500",children:r})]})};const Vs=function(e){let{onComplete:t,onPanelChange:n}=e;const[a,s]=(0,r.useState)(0),[i,o]=(0,r.useState)({room:"",item:"",description:""}),[l,c]=(0,r.useState)([]),d=(0,r.useMemo)(()=>'\n    <svg id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 762 380.48">\n    <defs>\n        <style>\n            .c12 {font-size: 35px;}\n            .c13 {font-size: 40px;}\n            .c14 {font-size: 18px;}\n        </style>\n    </defs>\n    <g id="Layer_1-2" data-name="Layer 1">\n        <g id="walls">\n            <line x1="259.66" y1="359.74" x2="259.66" y2="347.74"/>\n        </g>\n\n        <g id="furnishings">\n            <rect x="256.9" y="255.58" width="99.36" height="41.4"/>\n            <rect x="509.92" y="58.66" width="54.65" height="110.88"/>\n            <rect x="416.99" y="58.66" width="54.65" height="110.88"/>\n            <rect x="688.96" y="58.66" width="54.65" height="110.88"/>\n            <rect x="596.03" y="58.66" width="54.65" height="110.88"/>\n            <rect x="111.16" y="58.66" width="54.65" height="110.88"/>\n            <rect x="18.23" y="58.66" width="54.65" height="110.88"/>\n            <line x1="103.18" y1="338.38" x2="181.54" y2="338.38"/>\n            <line x1="580.3" y1="338.38" x2="661.74" y2="338.38"/>\n        </g>\n\n        <g id="room-titles">\n            <text class="c12" transform="translate(291.4 111.82)">Living Room</text>\n            <text class="c12" transform="translate(92.02 224.54)">Bedroom</text>\n            <text class="c14" transform="translate(52.84 292.98)">Bathroom</text>\n            <text class="c14" transform="translate(710.62 292.98)">Bathroom</text>\n            <text class="c14" transform="translate(142.36 292.98)">Vanity</text>\n            <text class="c14" transform="translate(580.3 292.98)">Vanity</text>\n            <text class="c12" transform="translate(490.78 224.54)">Bedroom</text>\n            <text class="c12" transform="translate(669.82 224.54)">Bedroom</text>\n            <text class="c13" transform="translate(348.73 352.39)">Kitchen</text>\n        </g>\n\n        <g id="selectable">\n            <g class="paint lighting carpet">\n                <g class="mattress bedframe">\n                    <rect id="bedroom2" x="401.26" y="25.18" width="179.04" height="230.4"/>\n                    <rect id="bedroom3" x="580.3" y="25.18" width="179.04" height="230.4"/>\n                    <rect id="bedroom1" x="2.5" y="25.18" width="179.04" height="230.4"/>\n                </g>\n                <g class="toilet shower">\n                    <polygon id="bathroom1" points="103.18 255.58 103.18 377.98 28.3 377.98 28.3 338.14 2.5 338.14 2.5 255.58 103.18 255.58"/>\n                    <polygon id="bathroom2" points="759.34 255.58 759.34 339.1 737.86 339.1 737.86 377.98 661.9 377.98 661.9 255.58 759.34 255.58"/>\n                </g>\n                <g class="sink">\n                    <rect id="vanity1" x="103.18" y="255.58" width="78.36" height="122.4"/>\n                    <polygon id="vanity2" points="661.9 255.58 661.9 377.98 580.3 377.98 580.3 314.62 507.82 314.62 507.82 255.58 661.9 255.58"/>\n                </g>\n                <polyline id="kitchen" class="oven sink garbage-disposal microwave" points="507.82 255.58 507.82 314.62 438.7 314.62 438.7 377.98 259.66 377.98 259.66 359.74 181.54 359.74 181.54 255.58"/>\n                <polyline id="living-room" class="tv couch" points="181.54 255.58 181.54 2.5 401.26 2.5 401.26 255.58"/>\n            </g>\n        </g>\n    </g>\n    </svg>\n    ',[]);return(0,r.useEffect)(()=>{n&&n(a>0)},[a,n]),(0,Wa.jsxs)("div",{className:"svg-wizard-container",children:[(0,Wa.jsxs)("div",{className:"wizard-header",children:[(0,Wa.jsx)("div",{id:"back-arrow",style:{visibility:a>0?"visible":"hidden"},onClick:()=>{a>0&&s(e=>e-1)},children:"\u2190"}),(0,Wa.jsxs)("h2",{className:"wizard-title",children:[0===a&&"Where is the issue?",1===a&&"What has the issue?",2===a&&"What is the issue?"]})]}),(0,Wa.jsxs)("div",{id:"screen",children:[(0,Wa.jsx)("div",{id:"room-of-issue",className:"panel",style:{display:0===a?"flex":"none"},children:(0,Wa.jsx)("div",{id:"floor-plan",className:"second",dangerouslySetInnerHTML:{__html:d},onClick:e=>{const t=e.target.closest("#selectable > g > *");if(t){const e=t.id;o(t=>u(u({},t),{},{room:e}));const n=function(e){let t=e.classList.value.split(" "),n=e.parentElement,r=!0;for(;r;){if("selectable"===n.id)r=!1;else{let e=n.classList.value.split(" ");for(let n=e.length-1;n>-1;n--)t.unshift(e[n])}n=n.parentElement}return t=t.filter(Boolean),t.push("other"),t}(t);c(n),s(1)}}})}),(0,Wa.jsx)("div",{id:"item-of-issue",className:"panel",style:{display:1===a?"flex":"none"},children:(0,Wa.jsx)("div",{id:"item-options",className:"second",children:l.map(e=>(0,Wa.jsx)("button",{type:"button",onClick:()=>{return t=e,o(e=>u(u({},e),{},{item:t})),void s(2);var t},children:e},e))})}),(0,Wa.jsxs)("div",{id:"description-of-issue",className:"panel",style:{display:2===a?"flex":"none"},children:[(0,Wa.jsx)("textarea",{id:"description-input",className:"second w-full px-4 py-3 border rounded-lg transition-smooth focus-ring bg-white resize-vertical border-secondary-300 focus:border-primary",value:i.description,onChange:e=>{const t=e.target.value;o(e=>u(u({},e),{},{description:t}))}}),(0,Wa.jsx)("button",{id:"submit-description-button",className:"second",type:"button",onClick:()=>{t(i)},children:"Submit Description"})]})]})]})};const Ks=function(e){let{setIsOpen:t,onReportCreated:n}=e;const{user:a,profile:s}=Ka(),[i,o]=(0,r.useState)({organization_id:"",title:"",wizardRoom:"",wizardDescription:"",severity:"medium"}),[l,c]=(0,r.useState)([]),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[y,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{if(null!==s&&void 0!==s&&s.organization_ids&&0!==s.organization_ids.length)try{const{data:e,error:t}=await Ha.from("organizations").select("id, name").in("id",s.organization_ids);if(t)throw t;c(e||[]),e&&1===e.length&&o(t=>u(u({},t),{},{organization_id:e[0].id}))}catch(e){w("Failed to load organizations. Please try again."),console.error("Error fetching organizations:",e)}else w("You must be assigned to an organization to create tickets. Please contact your administrator.")})()},[s]);const x=e=>{const{id:t,value:n}=e.target;o(e=>u(u({},e),{},{[t]:n})),w("")};return(0,Wa.jsxs)(Is,{isOpen:!0,onClose:()=>t(!1),size:"lg",children:[(0,Wa.jsx)(Is.Header,{onClose:()=>t(!1),children:(0,Wa.jsx)(Is.Title,{children:"New Maintenance Report"})}),(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.title)if(i.organization_id){v(!0),w("");try{const{data:e,error:r}=await Ha.from("reports").insert([{tenant_id:a.id,tenant_name:a.email||"Unknown",organization_id:i.organization_id,unit:null,title:i.title,description:i.wizardRoom&&i.wizardDescription?"".concat(i.wizardRoom,"\n\n").concat(i.wizardDescription):i.wizardDescription||"",severity:i.severity,status:"open",image_urls:[]}]).select();if(r)throw new Error("Failed to create report: ".concat(r.message));const s=e[0].id;let o=[];if(f.length>0){o=await(async e=>{if(0===f.length)return[];try{const t=[];for(const n of f){const r=n.name.split(".").pop(),s="".concat(e,"/").concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9),".").concat(r),i="".concat(a.id,"/").concat(s),{error:o}=await Ha.storage.from("damage-reports").upload(i,n);if(o)throw new Error("Failed to upload ".concat(n.name,": ").concat(o.message));const{data:{publicUrl:l}}=Ha.storage.from("damage-reports").getPublicUrl(i);t.push(l)}return t}catch(t){throw new Error("Image upload failed: ".concat(t.message))}})(s);const{error:e}=await Ha.from("reports").update({image_urls:o}).eq("id",s)}n&&n(),t(!1)}catch(r){w(r.message||"Failed to create report. Please try again.")}finally{v(!1)}}else w("Organization is required");else w("Title is required")},children:[(0,Wa.jsxs)(Is.Content,{children:[b&&(0,Wa.jsx)("div",{className:"bg-error-50 text-error-700 p-3 rounded-lg text-sm mb-4",children:b}),(0,Wa.jsxs)("div",{className:"space-y-4",children:[l.length>1&&(0,Wa.jsxs)(Ws,{label:"Organization *",id:"organization_id",value:i.organization_id,onChange:x,disabled:y,required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select an organization"}),l.map(e=>(0,Wa.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Wa.jsx)(js,{label:"Title *",id:"title",placeholder:"Brief title for the issue",type:"text",value:i.title,onChange:x,required:!0,disabled:y}),(0,Wa.jsx)("div",{className:"py-12 ".concat(d?"border-2 border-success-500 rounded-lg p-4":""),children:d?(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h3",{className:"text-lg font-semibold text-success-700",children:"Issue Selected:"}),(0,Wa.jsx)("p",{className:"text-secondary-800 font-medium",children:i.wizardRoom}),(0,Wa.jsx)("p",{className:"text-secondary-600",children:i.wizardDescription}),(0,Wa.jsx)(is,{variant:"outline",size:"sm",onClick:()=>h(!1),className:"mt-2",children:"Change"})]}):(0,Wa.jsx)(Vs,{onComplete:e=>{o(t=>u(u({},t),{},{wizardRoom:"".concat(e.room,"/").concat(e.item),wizardDescription:e.description})),h(!0)}})}),(0,Wa.jsxs)(Ws,{label:"Severity Level",id:"severity",value:i.severity,onChange:x,disabled:y,children:[(0,Wa.jsx)("option",{value:"low",children:"Low - Can wait"}),(0,Wa.jsx)("option",{value:"medium",children:"Medium - Normal priority"}),(0,Wa.jsx)("option",{value:"high",children:"High - Urgent"}),(0,Wa.jsx)("option",{value:"urgent",children:"Urgent - Safety concern"})]}),(0,Wa.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Wa.jsx)("label",{className:"text-sm font-semibold text-secondary-700",children:"Add Photos (Optional)"}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-500",children:"Max 5 images, 5MB each"}),(0,Wa.jsx)("input",{id:"images",type:"file",multiple:!0,accept:"image/*",onChange:e=>{const t=Array.from(e.target.files);if(t.length>5)return void w("Maximum 5 images allowed");const n=t.filter(e=>!(e.size>5242880)||(w("File ".concat(e.name," exceeds 5MB limit")),!1));if(0===n.length)return;p(n);const r=n.map(e=>URL.createObjectURL(e));g(r)},disabled:y,className:"w-full px-4 py-3 border border-secondary-300 rounded-lg transition-smooth focus-ring bg-white"})]}),m.length>0&&(0,Wa.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Wa.jsxs)("label",{className:"text-sm font-semibold text-secondary-700",children:["Selected Images (",m.length,")"]}),(0,Wa.jsx)("div",{className:"grid grid-cols-4 gap-2",children:m.map((e,t)=>(0,Wa.jsxs)("div",{className:"relative aspect-square bg-secondary-200 rounded-lg overflow-hidden",children:[(0,Wa.jsx)("img",{src:e,alt:"Preview ".concat(t+1),className:"absolute inset-0 w-full h-full object-cover"}),(0,Wa.jsx)("button",{type:"button",onClick:()=>(e=>{p(t=>t.filter((t,n)=>n!==e)),g(t=>(URL.revokeObjectURL(t[e]),t.filter((t,n)=>n!==e)))})(t),className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-error text-white border-none cursor-pointer flex items-center justify-center text-base font-bold hover:bg-error-600 transition-smooth",children:"\xd7"})]},t))})]})]})]}),(0,Wa.jsxs)(Is.Footer,{children:[(0,Wa.jsx)(is,{type:"button",onClick:()=>t(!1),variant:"secondary",disabled:y,children:"Cancel"}),(0,Wa.jsx)(is,{type:"submit",variant:"primary",disabled:y,loading:y,children:"Submit Report"})]})]})]})},$s=ts("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Js=ts("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Gs=ts("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Qs=ts("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ys=function(e){let{title:t,actions:n,className:r=""}=e;return(0,Wa.jsxs)("div",{className:"flex items-center justify-between mb-8 ".concat(r),children:[(0,Wa.jsx)("h1",{className:"text-4xl font-bold text-secondary-800",children:t}),n&&(0,Wa.jsx)("div",{className:"flex items-center gap-3",children:n})]})},Xs=ts("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Zs=ts("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ei=function(e){let{isOpen:t,onClose:n,ticket:a,loading:s,canEditStatus:i=!1}=e;const[o,l]=(0,r.useState)((null===a||void 0===a?void 0:a.status)||"open"),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(null);if((0,r.useEffect)(()=>{a&&l(a.status||"open")},[a]),!a&&!s)return null;const y=e=>{switch(e){case"open":return"bg-blue-100 text-blue-800 border-blue-200";case"in_progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"resolved":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=async(e,t)=>{u(!0);try{const n={status:e};t&&(n.closing_comment=t,n.closed_at=(new Date).toISOString());const{error:r}=await Ha.from("reports").update(n).eq("id",a.id);if(r)throw r;l(e),a&&(a.status=e,t&&(a.closing_comment=t,a.closed_at=n.closed_at))}catch(n){console.error("Error updating status:",n),alert("Failed to update status. Please try again."),l(a.status)}finally{u(!1)}};return s?(0,Wa.jsxs)(Is,{isOpen:t,onClose:n,size:"lg",children:[(0,Wa.jsx)(Is.Header,{onClose:n,children:(0,Wa.jsx)(Is.Title,{children:"Loading..."})}),(0,Wa.jsx)(Is.Content,{children:(0,Wa.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Wa.jsx)("p",{className:"text-secondary-600",children:"Loading ticket details..."})})})]}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)(Is,{isOpen:t,onClose:n,size:"lg",children:[(0,Wa.jsx)(Is.Header,{onClose:n,children:(0,Wa.jsx)(Is.Title,{children:"Maintenance Request Details"})}),(0,Wa.jsx)(Is.Content,{children:(0,Wa.jsxs)("div",{className:"space-y-6",children:[(0,Wa.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,Wa.jsxs)("div",{className:"flex-1",children:[(0,Wa.jsx)("h3",{className:"text-xl font-semibold text-secondary-800 mb-2",children:a.title}),(0,Wa.jsxs)("div",{className:"flex items-center gap-3 text-sm text-secondary-500",children:[(0,Wa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Wa.jsx)(Ls,{size:16}),(0,Wa.jsx)("span",{children:a.date})]}),a.unit&&(0,Wa.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Wa.jsx)(As,{size:16}),(0,Wa.jsxs)("span",{children:["Unit ",a.unit]})]})]})]}),(0,Wa.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Wa.jsx)(Fs,{variant:a.severity,children:a.severity}),i?(0,Wa.jsx)("div",{className:"min-w-[160px]",children:(0,Wa.jsx)(Ws,{label:"Status",id:"status",value:o,onChange:e=>(async e=>{"closed"===e||"cancelled"===e?(g(e),h(!0)):await b(e,null)})(e.target.value),disabled:c,children:[{value:"open",label:"Open"},{value:"in_progress",label:"In Progress"},{value:"closed",label:"Closed"},{value:"cancelled",label:"Cancelled"}].map(e=>(0,Wa.jsx)("option",{value:e.value,children:e.label},e.value))})}):a.status&&(0,Wa.jsx)(Fs,{variant:a.status,children:a.status})]})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsxs)("h4",{className:"text-lg font-semibold text-secondary-800 mb-3 flex items-center gap-2",children:[(0,Wa.jsx)(Qs,{size:20}),"Description"]}),(0,Wa.jsx)("div",{className:"bg-secondary-50 rounded-lg p-4",children:(0,Wa.jsx)("p",{className:"text-secondary-700 leading-relaxed whitespace-pre-wrap",children:a.description})})]}),a.image_urls&&a.image_urls.length>0&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsxs)("h4",{className:"text-lg font-semibold text-secondary-800 mb-3 flex items-center gap-2",children:[(0,Wa.jsx)(Xs,{size:20}),"Attached Images (",a.image_urls.length,")"]}),(0,Wa.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.image_urls.map((e,t)=>(0,Wa.jsxs)("div",{className:"relative group",children:[(0,Wa.jsx)("img",{src:e,alt:"Attachment ".concat(t+1),className:"w-full h-32 object-cover rounded-lg border border-secondary-200 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>window.open(e,"_blank")}),(0,Wa.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all rounded-lg flex items-center justify-center",children:(0,Wa.jsx)("span",{className:"text-white opacity-0 group-hover:opacity-100 text-sm font-medium",children:"Click to enlarge"})})]},t))})]}),(0,Wa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.created_at&&(0,Wa.jsxs)("div",{className:"bg-secondary-50 rounded-lg p-4",children:[(0,Wa.jsxs)("h5",{className:"font-semibold text-secondary-800 mb-2 flex items-center gap-2",children:[(0,Wa.jsx)(xs,{size:16}),"Submitted"]}),(0,Wa.jsx)("p",{className:"text-secondary-600 text-sm",children:v(a.created_at)})]}),a.updated_at&&a.updated_at!==a.created_at&&(0,Wa.jsxs)("div",{className:"bg-secondary-50 rounded-lg p-4",children:[(0,Wa.jsxs)("h5",{className:"font-semibold text-secondary-800 mb-2 flex items-center gap-2",children:[(0,Wa.jsx)(Zs,{size:16}),"Last Updated"]}),(0,Wa.jsx)("p",{className:"text-secondary-600 text-sm",children:v(a.updated_at)})]})]}),a.status_history&&a.status_history.length>0&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h4",{className:"text-lg font-semibold text-secondary-800 mb-3",children:"Status History"}),(0,Wa.jsx)("div",{className:"space-y-2",children:a.status_history.map((e,t)=>(0,Wa.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-secondary-50 rounded-lg",children:[(0,Wa.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(y(e.status).split(" ")[0])}),(0,Wa.jsxs)("div",{className:"flex-1",children:[(0,Wa.jsx)("p",{className:"font-medium text-secondary-800 capitalize",children:e.status.replace("_"," ")}),(0,Wa.jsx)("p",{className:"text-sm text-secondary-500",children:v(e.timestamp)})]})]},t))})]}),a.manager_notes&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h4",{className:"text-lg font-semibold text-secondary-800 mb-3",children:"Manager Notes"}),(0,Wa.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Wa.jsx)("p",{className:"text-secondary-700 leading-relaxed whitespace-pre-wrap",children:a.manager_notes})})]}),a.closing_comment&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h4",{className:"text-lg font-semibold text-secondary-800 mb-3",children:"cancelled"===a.status?"Cancellation Comment":"Closing Comment"}),(0,Wa.jsxs)("div",{className:"".concat("cancelled"===a.status?"bg-gray-50 border-gray-200":"bg-green-50 border-green-200"," border rounded-lg p-4"),children:[(0,Wa.jsx)("p",{className:"text-secondary-700 leading-relaxed whitespace-pre-wrap",children:a.closing_comment}),a.closed_at&&(0,Wa.jsxs)("p",{className:"text-sm text-secondary-500 mt-2",children:["cancelled"===a.status?"Cancelled":"Closed"," on ",v(a.closed_at)]})]})]})]})}),(0,Wa.jsx)(Is.Footer,{children:(0,Wa.jsx)(is,{variant:"secondary",onClick:n,children:"Close"})})]}),d&&(0,Wa.jsxs)(Is,{isOpen:d,onClose:()=>{h(!1),p(""),g(null),l(a.status)},size:"md",children:[(0,Wa.jsx)(Is.Header,{onClose:()=>{h(!1),p(""),g(null),l(a.status)},children:(0,Wa.jsx)(Is.Title,{children:"closed"===m?"Close Ticket":"Cancel Ticket"})}),(0,Wa.jsx)(Is.Content,{children:(0,Wa.jsxs)("div",{className:"space-y-4",children:[(0,Wa.jsxs)("p",{className:"text-secondary-700",children:["Please provide a comment explaining why this ticket is being ","closed"===m?"closed":"cancelled",". This comment will be visible to the tenant."]}),(0,Wa.jsx)("textarea",{className:"w-full px-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-all resize-none",rows:"4",placeholder:"Enter ".concat("closed"===m?"closing":"cancellation"," comment..."),value:f,onChange:e=>p(e.target.value)})]})}),(0,Wa.jsx)(Is.Footer,{children:(0,Wa.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,Wa.jsx)(is,{variant:"secondary",onClick:()=>{h(!1),p(""),g(null),l(a.status)},children:"Cancel"}),(0,Wa.jsx)(is,{variant:"primary",onClick:async()=>{f.trim()?(await b(m,f),h(!1),p(""),g(null)):alert("Please enter a comment before updating the ticket status")},disabled:c||!f.trim(),loading:c,children:"closed"===m?"Close Ticket":"Cancel Ticket"})]})})]})]})};const ti=function(){const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!1),{user:o}=Ka(),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0),h=(0,r.useCallback)(async()=>{if(o)try{const{data:e,error:t}=await Ha.from("reports").select("*").eq("tenant_id",o.id).order("created_at",{ascending:!1});if(t)throw t;c(e||[])}catch(e){}finally{d(!1)}},[o]);(0,r.useEffect)(()=>{document.title="Dashboard - Villa",h()},[h]);const f=(0,Wa.jsx)(Us,{navElements:[{name:"Dashboard",id:crypto.randomUUID(),icon:(0,Wa.jsx)(gs,{size:20}),path:"/tenant/dashboard"},{name:"Payments",id:crypto.randomUUID(),icon:(0,Wa.jsx)($s,{size:20}),path:"/tenant/payments"},{name:"Maintenance",id:crypto.randomUUID(),icon:(0,Wa.jsx)(Ms,{size:20}),path:"/tenant/reports"}]}),p=l.map(e=>({id:e.id,title:e.title||"No title",date:new Date(e.created_at).toLocaleDateString(),severity:e.severity||"medium",description:e.description,unit:e.unit,image_urls:e.image_urls||[],status:e.status||"open"})).slice(0,3),m=l.filter(e=>"open"===e.status).length,g=l.filter(e=>"in-progress"===e.status).length,y=l.filter(e=>"resolved"===e.status).length;return(0,Wa.jsxs)("div",{className:"flex",children:[f,e&&(0,Wa.jsx)(Ks,{setIsOpen:t,onReportCreated:h}),(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"Dashboard",actions:(0,Wa.jsx)(is,{variant:"primary",size:"sm",leftIcon:(0,Wa.jsx)(Js,{}),onClick:()=>t(!0),children:"New Request"})}),(0,Wa.jsxs)("div",{className:"mb-8",children:[(0,Wa.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Welcome back"}),(0,Wa.jsx)("p",{className:"text-secondary-600",children:"Manage your apartment maintenance and payments"})]}),(0,Wa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,Wa.jsxs)(cs,{variant:"elevated",className:"bg-gradient-to-br from-success-500 to-success-600 text-white border-none shadow-xl",children:[(0,Wa.jsx)(cs.Header,{children:(0,Wa.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("p",{className:"text-success-100 text-sm mb-1",children:"Current Balance"}),(0,Wa.jsx)("h2",{className:"text-4xl font-bold text-white mb-4",children:"$0.00"}),(0,Wa.jsxs)("div",{className:"flex items-center gap-2 text-sm text-success-100",children:[(0,Wa.jsx)(bs,{size:16}),(0,Wa.jsx)("span",{children:"All caught up!"})]})]}),(0,Wa.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:(0,Wa.jsx)(Gs,{size:28,className:"text-white"})})]})}),(0,Wa.jsxs)(cs.Footer,{withBorder:!1,className:"mt-6 flex gap-3",children:[(0,Wa.jsx)(is,{variant:"secondary",size:"sm",className:"bg-white text-success-700 hover:bg-success-50",children:"Pay Now"}),(0,Wa.jsx)(is,{variant:"ghost",size:"sm",className:"text-white border-white/30 hover:bg-white/10",children:"View History"})]})]}),(0,Wa.jsxs)(cs,{variant:"elevated",children:[(0,Wa.jsx)(cs.Header,{withBorder:!0,children:(0,Wa.jsx)(cs.Title,{subtitle:"Your maintenance requests",children:"Requests Overview"})}),(0,Wa.jsx)(cs.Content,{children:(0,Wa.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Wa.jsxs)("div",{className:"text-center",children:[(0,Wa.jsx)("div",{className:"w-12 h-12 mx-auto mb-2 rounded-xl bg-error-100 flex items-center justify-center",children:(0,Wa.jsx)(Qs,{size:24,className:"text-error-600"})}),(0,Wa.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:m}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-600 mt-1",children:"Open"})]}),(0,Wa.jsxs)("div",{className:"text-center",children:[(0,Wa.jsx)("div",{className:"w-12 h-12 mx-auto mb-2 rounded-xl bg-warning-100 flex items-center justify-center",children:(0,Wa.jsx)(xs,{size:24,className:"text-warning-600"})}),(0,Wa.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:g}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-600 mt-1",children:"In Progress"})]}),(0,Wa.jsxs)("div",{className:"text-center",children:[(0,Wa.jsx)("div",{className:"w-12 h-12 mx-auto mb-2 rounded-xl bg-success-100 flex items-center justify-center",children:(0,Wa.jsx)(bs,{size:24,className:"text-success-600"})}),(0,Wa.jsx)("p",{className:"text-2xl font-bold text-secondary-900",children:y}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-600 mt-1",children:"Resolved"})]})]})}),(0,Wa.jsx)(cs.Footer,{withBorder:!1,children:(0,Wa.jsx)(is,{variant:"ghost-secondary",size:"sm",fullWidth:!0,onClick:()=>window.location.href="/tenant/reports",children:"View All Requests"})})]})]}),(0,Wa.jsxs)(cs,{variant:"elevated",children:[(0,Wa.jsx)(cs.Header,{withBorder:!0,children:(0,Wa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wa.jsx)(cs.Title,{subtitle:"Latest updates on your requests",children:"Recent Requests"}),(0,Wa.jsx)(is,{variant:"primary",size:"sm",leftIcon:(0,Wa.jsx)(Js,{}),onClick:()=>t(!0),children:"New Request"})]})}),(0,Wa.jsx)(cs.Content,{children:u?(0,Wa.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,Wa.jsx)(cs,{loading:!0},e))}):0===p.length?(0,Wa.jsxs)("div",{className:"text-center py-12",children:[(0,Wa.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Wa.jsx)(Ms,{size:32,className:"text-primary-600"})}),(0,Wa.jsx)("p",{className:"text-secondary-900 font-semibold mb-2",children:"No maintenance requests yet"}),(0,Wa.jsx)("p",{className:"text-sm text-secondary-600 mb-6",children:"Report an issue and we'll help you resolve it quickly"}),(0,Wa.jsx)(is,{variant:"primary",leftIcon:(0,Wa.jsx)(Js,{}),onClick:()=>t(!0),children:"Create First Request"})]}):(0,Wa.jsxs)("div",{className:"space-y-3",children:[p.map((e,t)=>(0,Wa.jsx)("div",{onClick:()=>(a(e),void i(!0)),className:"p-4 border border-secondary-200 rounded-xl hover:border-primary-200 hover:shadow-sm transition-all duration-300 animate-fade-in-up cursor-pointer",style:{animationDelay:"".concat(.1*t,"s")},children:(0,Wa.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Wa.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ".concat("urgent"===e.severity?"bg-error-100 text-error-600":"high"===e.severity?"bg-warning-100 text-warning-600":"bg-primary-100 text-primary-600"),children:(0,Wa.jsx)(Ms,{size:20})}),(0,Wa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Wa.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-2",children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("p",{className:"font-semibold text-secondary-900 mb-1",children:e.title}),(0,Wa.jsx)("p",{className:"text-sm text-secondary-600 line-clamp-2",children:e.description})]}),(0,Wa.jsx)("span",{className:"text-xs text-secondary-500 flex-shrink-0",children:e.date})]}),(0,Wa.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Wa.jsx)(Fs,{variant:e.status,children:e.status}),(0,Wa.jsx)(Fs,{variant:e.severity,children:e.severity})]})]})]})},e.id)),l.length>3&&(0,Wa.jsxs)(is,{variant:"outline-secondary",fullWidth:!0,onClick:()=>window.location.href="/tenant/reports",children:["View All ",l.length," Requests"]})]})})]})]}),(0,Wa.jsx)(ei,{isOpen:s,onClose:()=>{i(!1),a(null)},ticket:n})]})};const ni=function(){const{user:e}=Ka(),[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),u=(0,r.useCallback)(async()=>{if(e)try{const{data:t,error:r}=await Ha.from("reports").select("*").eq("tenant_id",e.id);if(r)throw r;const a={open:1,in_progress:2,closed:3,cancelled:4},s=(t||[]).sort((e,t)=>{const n=a[e.status]||999,r=a[t.status]||999;if(n!==r)return n-r;const s=new Date(e.updated_at||e.created_at);return new Date(t.updated_at||t.created_at)-s});n(s)}catch(t){}finally{s(!1)}},[e]);(0,r.useEffect)(()=>{document.title="Maintenance - Villa",u()},[u]),(0,r.useEffect)(()=>{if(!e)return;const t={open:1,in_progress:2,closed:3,cancelled:4},r=e=>[...e].sort((e,n)=>{const r=t[e.status]||999,a=t[n.status]||999;if(r!==a)return r-a;const s=new Date(e.updated_at||e.created_at);return new Date(n.updated_at||n.created_at)-s}),a=Ha.channel("tenant-reports-changes").on("postgres_changes",{event:"*",schema:"public",table:"reports",filter:"tenant_id=eq.".concat(e.id)},e=>{"INSERT"===e.eventType?n(t=>r([e.new,...t])):"UPDATE"===e.eventType?n(t=>r(t.map(t=>t.id===e.new.id?e.new:t))):"DELETE"===e.eventType&&n(t=>t.filter(t=>t.id!==e.old.id))}).subscribe();return()=>{Ha.removeChannel(a)}},[e]);const d=(0,Wa.jsx)(Us,{navElements:[{name:"Dashboard",id:crypto.randomUUID(),icon:(0,Wa.jsx)(gs,{size:20}),path:"/tenant/dashboard"},{name:"Payments",id:crypto.randomUUID(),icon:(0,Wa.jsx)($s,{size:20}),path:"/tenant/payments"},{name:"Maintenance",id:crypto.randomUUID(),icon:(0,Wa.jsx)(Ms,{size:20}),path:"/tenant/reports"}]}),h=t.map(e=>({id:e.id,title:e.title||"No title",date:new Date(e.created_at).toLocaleDateString(),severity:e.severity||"medium",description:e.description,unit:e.unit,image_urls:e.image_urls||[],status:e.status||"open",created_at:e.created_at,updated_at:e.updated_at}));return(0,Wa.jsxs)("div",{className:"flex",children:[d,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"Maintenance"}),a?(0,Wa.jsx)("p",{className:"text-secondary-500",children:"Loading..."}):(0,Wa.jsx)(Bs,{tickets:h,onTicketClick:e=>{o(e),c(!0)}})]}),(0,Wa.jsx)(ei,{isOpen:l,onClose:()=>{c(!1),o(null)},ticket:i})]})};const ri=function(){r.useEffect(()=>{document.title="Payments - Villa"},[]);const e=(0,Wa.jsx)(Us,{navElements:[{name:"Dashboard",id:crypto.randomUUID(),icon:(0,Wa.jsx)(gs,{size:20}),path:"/tenant/dashboard"},{name:"Payments",id:crypto.randomUUID(),icon:(0,Wa.jsx)($s,{size:20}),path:"/tenant/payments"},{name:"Maintenance",id:crypto.randomUUID(),icon:(0,Wa.jsx)(Ms,{size:20}),path:"/tenant/reports"}]});return(0,Wa.jsxs)("div",{className:"flex",children:[e,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"Payments"}),(0,Wa.jsxs)(cs,{className:"mb-6",children:[(0,Wa.jsx)(cs.Header,{children:(0,Wa.jsx)(cs.Title,{children:"Current Balance"})}),(0,Wa.jsxs)(cs.Content,{children:[(0,Wa.jsx)("p",{className:"text-4xl font-bold text-success mb-4",children:"$0.00"}),(0,Wa.jsx)("p",{className:"text-sm text-secondary-500",children:"You're all caught up! No outstanding balance."})]})]}),(0,Wa.jsxs)(cs,{className:"mb-6",children:[(0,Wa.jsx)(cs.Header,{children:(0,Wa.jsx)(cs.Title,{children:"Payment History"})}),(0,Wa.jsx)(cs.Content,{children:(0,Wa.jsx)(qs,{icon:(0,Wa.jsx)(xs,{size:48}),title:"No payment history yet",description:"Your payment transactions will appear here once you make your first payment."})})]}),(0,Wa.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-blue-800",children:(0,Wa.jsxs)("p",{className:"text-sm m-0",children:[(0,Wa.jsx)("strong",{children:"Note:"})," Payment processing is coming soon! You'll be able to pay rent and view your payment history here."]})})]})]})},ai=ts("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),si=ts("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ii=ts("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const oi=function(){const{profile:e,role:t}=Ka(),n=me(),[a,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)({total:0,open:0,inProgress:0,resolved:0,tenantCount:0}),[l,c]=(0,r.useState)([]),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),y=(0,r.useCallback)(async()=>{if(!t||e)try{let n=Ha.from("reports").select("*, organization:organizations(name)");"manager"===t&&null!==e&&void 0!==e&&e.organization_ids&&(n=n.in("organization_id",e.organization_ids)),n=n.order("created_at",{ascending:!1});const{data:r,error:a}=await n;if(a)throw a;const i=r.length,l=r.filter(e=>"open"===e.status).length,u=r.filter(e=>"in-progress"===e.status).length,d=r.filter(e=>"resolved"===e.status).length,h=new Set(r.map(e=>e.tenant_id));o({total:i,open:l,inProgress:u,resolved:d,tenantCount:h.size}),c(r.slice(0,5).map(e=>{var t;return{id:e.id,title:e.title||"No title",description:e.description&&e.description.length>60?e.description.substring(0,60)+"...":e.description||"No description",unit:e.unit,tenant:e.tenant_name||"Unknown",status:e.status||"open",severity:e.severity||"medium",date:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}),organizationName:(null===(t=e.organization)||void 0===t?void 0:t.name)||"Unknown Organization"}})),s(!1)}catch(n){s(!1)}},[e,t]);(0,r.useEffect)(()=>{document.title="Manager Dashboard - Villa",y()},[y]);const v=(0,Wa.jsx)(Us,{navElements:[{name:"Dashboard",id:crypto.randomUUID(),icon:(0,Wa.jsx)(ai,{size:20}),path:"/manager/dashboard"},{name:"Tenants",id:crypto.randomUUID(),icon:(0,Wa.jsx)(vs,{size:20}),path:"/manager/tenants"},{name:"Maintenance",id:crypto.randomUUID(),icon:(0,Wa.jsx)(Ms,{size:20}),path:"/manager/reports"}]}),{loading:b}=Ka();return a||b?(0,Wa.jsxs)("div",{className:"flex min-h-screen",children:[v,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"Manager Dashboard"}),(0,Wa.jsx)("p",{className:"text-secondary-600",children:"Loading dashboard..."})]})]}):(0,Wa.jsxs)("div",{className:"flex min-h-screen",children:[v,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"Dashboard"}),(0,Wa.jsxs)("div",{className:"mb-8",children:[(0,Wa.jsx)("h2",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Welcome back"}),(0,Wa.jsx)("p",{className:"text-secondary-600",children:"Here's what's happening with your properties today"})]}),(0,Wa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,Wa.jsxs)(cs,{variant:"elevated",padding:"lg",className:"",children:[(0,Wa.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Wa.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 text-white shadow-md",children:(0,Wa.jsx)(si,{size:24})})}),(0,Wa.jsx)("p",{className:"text-sm font-medium text-secondary-600 mb-1",children:"Total Reports"}),(0,Wa.jsx)("p",{className:"text-3xl font-bold text-secondary-900",children:i.total}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 mt-2",children:"All time"})]}),(0,Wa.jsxs)(cs,{variant:"elevated",padding:"lg",className:"",children:[(0,Wa.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Wa.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-error-500 to-error-600 text-white shadow-md",children:(0,Wa.jsx)(Qs,{size:24})})}),(0,Wa.jsx)("p",{className:"text-sm font-medium text-secondary-600 mb-1",children:"Open"}),(0,Wa.jsx)("p",{className:"text-3xl font-bold text-secondary-900",children:i.open}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 mt-2",children:"Requires action"})]}),(0,Wa.jsxs)(cs,{variant:"elevated",padding:"lg",className:"",children:[(0,Wa.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Wa.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-warning-500 to-warning-600 text-white shadow-md",children:(0,Wa.jsx)(xs,{size:24})})}),(0,Wa.jsx)("p",{className:"text-sm font-medium text-secondary-600 mb-1",children:"In Progress"}),(0,Wa.jsx)("p",{className:"text-3xl font-bold text-secondary-900",children:i.inProgress}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 mt-2",children:"Being resolved"})]}),(0,Wa.jsxs)(cs,{variant:"elevated",padding:"lg",className:"",children:[(0,Wa.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Wa.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-success-500 to-success-600 text-white shadow-md",children:(0,Wa.jsx)(Zs,{size:24})})}),(0,Wa.jsx)("p",{className:"text-sm font-medium text-secondary-600 mb-1",children:"Resolved"}),(0,Wa.jsx)("p",{className:"text-3xl font-bold text-secondary-900",children:i.resolved}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 mt-2",children:"This month"})]}),(0,Wa.jsxs)(cs,{variant:"elevated",padding:"lg",className:"",children:[(0,Wa.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Wa.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-accent-500 to-accent-600 text-white shadow-md",children:(0,Wa.jsx)(vs,{size:24})})}),(0,Wa.jsx)("p",{className:"text-sm font-medium text-secondary-600 mb-1",children:"Active Tenants"}),(0,Wa.jsx)("p",{className:"text-3xl font-bold text-secondary-900",children:i.tenantCount}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-500 mt-2",children:"With reports"})]})]}),(0,Wa.jsxs)(cs,{variant:"elevated",children:[(0,Wa.jsx)(cs.Header,{withBorder:!0,children:(0,Wa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Wa.jsx)(cs.Title,{subtitle:"Recent maintenance requests",children:"Recent Activity"}),(0,Wa.jsx)(is,{variant:"ghost-secondary",size:"sm",rightIcon:(0,Wa.jsx)(ds,{}),onClick:()=>n("/manager/reports"),children:"View All"})]})}),(0,Wa.jsx)(cs.Content,{children:0===l.length?(0,Wa.jsxs)("div",{className:"text-center py-12",children:[(0,Wa.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-secondary-100 flex items-center justify-center",children:(0,Wa.jsx)(si,{size:32,className:"text-secondary-400"})}),(0,Wa.jsx)("p",{className:"text-secondary-600 font-medium",children:"No recent reports"}),(0,Wa.jsx)("p",{className:"text-sm text-secondary-500 mt-1",children:"New maintenance requests will appear here"})]}):(0,Wa.jsx)("div",{className:"space-y-1",children:l.map((e,t)=>(0,Wa.jsx)("div",{onClick:()=>(async e=>{g(!0),h(!0);try{var t;const{data:n,error:r}=await Ha.from("reports").select("*, organization:organizations(name)").eq("id",e).single();if(r)throw r;const a=u(u({},n),{},{title:n.title||"No title",date:n.created_at?new Date(n.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date",tenantName:n.tenant_name||"Unknown tenant",organizationName:(null===(t=n.organization)||void 0===t?void 0:t.name)||"Unknown Organization"});p(a)}catch(n){console.error("Error fetching ticket details:",n)}finally{g(!1)}})(e.id),className:"p-4 -mx-2 rounded-xl cursor-pointer transition-all duration-300 animate-fade-in-up",style:{animationDelay:"".concat(.05*t,"s")},children:(0,Wa.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Wa.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-xl flex items-center justify-center ".concat("urgent"===e.severity?"bg-error-100 text-error-600":"high"===e.severity?"bg-warning-100 text-warning-600":"bg-primary-100 text-primary-600"),children:(0,Wa.jsx)(Qs,{size:20})}),(0,Wa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Wa.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-2",children:[(0,Wa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Wa.jsx)("p",{className:"text-sm font-semibold text-secondary-900 mb-1 truncate",children:e.title}),(0,Wa.jsx)("p",{className:"text-xs text-secondary-600 mb-1 truncate",children:e.description}),(0,Wa.jsxs)("div",{className:"flex items-center gap-2 text-xs text-secondary-600",children:[(0,Wa.jsx)("span",{className:"font-medium",children:e.tenant}),e.unit&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("span",{className:"text-secondary-400",children:"\u2022"}),(0,Wa.jsxs)("span",{children:["Unit ",e.unit]})]}),(0,Wa.jsx)("span",{className:"text-secondary-400",children:"\u2022"}),(0,Wa.jsx)("span",{children:e.organizationName}),(0,Wa.jsx)("span",{className:"text-secondary-400",children:"\u2022"}),(0,Wa.jsx)("span",{children:e.date})]})]}),(0,Wa.jsx)(is,{variant:"ghost-secondary",size:"xs",leftIcon:(0,Wa.jsx)(ii,{}),className:"opacity-0 transition-opacity flex-shrink-0",children:"View"})]}),(0,Wa.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Wa.jsx)(Fs,{variant:e.status,children:e.status}),(0,Wa.jsx)(Fs,{variant:e.severity,children:e.severity})]})]})]})},e.id))})})]})]}),(0,Wa.jsx)(ei,{isOpen:d,onClose:()=>{h(!1),p(null)},ticket:f,loading:m,canEditStatus:!0})]})},li=ts("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const ci=function(e){let{tickets:t}=e;const[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1);return 0===t.length?(0,Wa.jsx)(qs,{icon:(0,Wa.jsx)(li,{size:64}),title:"No maintenance requests found",description:"All maintenance requests from tenants will appear here"}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Wa.jsx)("div",{onClick:()=>(async e=>{l(!0),a(!0);try{var t;const{data:n,error:r}=await Ha.from("reports").select("*, organization:organizations(name)").eq("id",e).single();if(r)throw r;const a=u(u({},n),{},{title:n.title||"No title",date:n.created_at?new Date(n.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date",tenantName:n.tenant_name||"Unknown tenant",organizationName:(null===(t=n.organization)||void 0===t?void 0:t.name)||"Unknown Organization"});i(a)}catch(n){console.error("Error fetching ticket details:",n)}finally{l(!1)}})(e.id),className:"hover:bg-secondary-50 transition-smooth cursor-pointer",children:(0,Wa.jsx)(c,{ticket:e})},e.id))}),(0,Wa.jsx)(ei,{isOpen:n,onClose:()=>{a(!1),i(null)},ticket:s,loading:o,canEditStatus:!0})]});function c(e){let{ticket:t}=e;return(0,Wa.jsxs)(cs,{children:[(0,Wa.jsx)("div",{className:"flex justify-between items-start mb-3",children:(0,Wa.jsxs)("div",{className:"flex-1",children:[(0,Wa.jsx)("h3",{className:"text-lg font-semibold text-secondary-800 mb-1",children:t.title}),(0,Wa.jsxs)("span",{className:"text-sm text-secondary-600",children:[t.tenantName," - ",t.property||t.unit," (",t.organizationName,")"]})]})}),(0,Wa.jsxs)("div",{className:"flex items-center gap-3 mb-3 text-sm text-secondary-500",children:[(0,Wa.jsx)("span",{children:t.date}),(0,Wa.jsx)(Fs,{variant:t.severity||"medium",children:t.severity||"medium"}),(0,Wa.jsx)(Fs,{variant:t.status||"open",children:(t.status||"open").replace("_"," ")})]}),(0,Wa.jsx)("p",{className:"text-secondary-700 mb-3",children:t.description}),t.image_urls&&t.image_urls.length>0&&(0,Wa.jsx)("div",{className:"grid grid-cols-4 gap-2 mt-4",children:t.image_urls.map((e,t)=>(0,Wa.jsx)("img",{src:e,alt:"Attachment ".concat(t+1),className:"w-full h-24 object-cover rounded-lg"},t))})]})}};const ui=function(){const{profile:e,role:t}=Ka(),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(30),d=(0,Wa.jsx)(Us,{navElements:[{name:"Dashboard",id:crypto.randomUUID(),icon:(0,Wa.jsx)(ai,{size:20}),path:"/manager/dashboard"},{name:"Tenants",id:crypto.randomUUID(),icon:(0,Wa.jsx)(vs,{size:20}),path:"/manager/tenants"},{name:"Maintenance",id:crypto.randomUUID(),icon:(0,Wa.jsx)(Ms,{size:20}),path:"/manager/reports"}]}),h=(0,r.useCallback)(async()=>{if(!t||e){i(!0);try{let n=Ha.from("reports").select("*, organization:organizations(name)");if("manager"===t&&null!==e&&void 0!==e&&e.organization_ids&&(n=n.in("organization_id",e.organization_ids)),c>0){const e=new Date;1===c?e.setHours(0,0,0,0):e.setDate(e.getDate()-c),n=n.gte("created_at",e.toISOString())}const{data:r,error:s}=await n;if(s)throw s;const i={open:1,in_progress:2,closed:3,cancelled:4},o=r.sort((e,t)=>{const n=i[e.status]||999,r=i[t.status]||999;if(n!==r)return n-r;const a=new Date(e.updated_at||e.created_at);return new Date(t.updated_at||t.created_at)-a}).map(e=>{var t;return{id:e.id,title:e.title||"No title",date:e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date",severity:e.severity||"medium",description:e.description&&e.description.length>50?e.description.substring(0,50)+"...":e.description||"No description",tenantName:e.tenant_name||"Unknown tenant",property:e.unit||"Unknown unit",unit:e.unit,status:e.status||"open",image_urls:e.image_urls||[],organizationName:(null===(t=e.organization)||void 0===t?void 0:t.name)||"Unknown Organization",created_at:e.created_at,updated_at:e.updated_at}});a(o)}catch(n){l("Failed to load maintenance requests")}finally{i(!1)}}},[c,e,t]);(0,r.useEffect)(()=>{document.title="Maintenance Reports - Villa",h()},[h]),(0,r.useEffect)(()=>{const n={open:1,in_progress:2,closed:3,cancelled:4},r=e=>[...e].sort((e,t)=>{const r=n[e.status]||999,a=n[t.status]||999;if(r!==a)return r-a;const s=new Date(e.updated_at||e.created_at);return new Date(t.updated_at||t.created_at)-s}),s=e=>{var t;return{id:e.id,title:e.description&&e.description.length>50?e.description.substring(0,50)+"...":e.description||"No title",date:e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date",severity:e.severity||"medium",description:e.description||"No description",tenantName:e.tenant_name||"Unknown tenant",property:e.unit||"Unknown unit",unit:e.unit,status:e.status||"open",image_urls:e.image_urls||[],organizationName:(null===(t=e.organization)||void 0===t?void 0:t.name)||"Unknown Organization",created_at:e.created_at,updated_at:e.updated_at}},i=Ha.channel("all-reports-changes").on("postgres_changes",{event:"*",schema:"public",table:"reports"},n=>{if("manager"!==t||null===e||void 0===e||!e.organization_ids||e.organization_ids.includes(n.new.organization_id))if("INSERT"===n.eventType){const e=s(n.new);a(t=>r([e,...t]))}else if("UPDATE"===n.eventType){const e=s(n.new);a(t=>r(t.map(t=>t.id===e.id?e:t)))}else"DELETE"===n.eventType&&a(e=>e.filter(e=>e.id!==n.old.id))}).subscribe();return()=>{Ha.removeChannel(i)}},[e,t]);const{loading:f}=Ka();return s||f?(0,Wa.jsxs)("div",{className:"flex min-h-screen",children:[d,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"All Maintenance Requests"}),(0,Wa.jsx)("p",{className:"text-secondary-600",children:"Loading maintenance requests..."})]})]}):o?(0,Wa.jsxs)("div",{className:"flex min-h-screen",children:[d,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"All Maintenance Requests"}),(0,Wa.jsx)("p",{className:"text-error-600",children:o})]})]}):(0,Wa.jsxs)("div",{className:"flex min-h-screen",children:[d,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"All Maintenance Requests",actions:(0,Wa.jsx)(Ws,{value:c,onChange:e=>{const t=parseInt(e.target.value,10);u(t)},children:[{value:1,label:"Today"},{value:7,label:"Last 7 Days"},{value:30,label:"Last 30 Days"},{value:90,label:"Last 90 Days"},{value:0,label:"All Time"}].map(e=>(0,Wa.jsx)("option",{value:e.value,children:e.label},e.value))})}),0===n.length?(0,Wa.jsx)(qs,{icon:(0,Wa.jsx)(Ms,{size:48}),title:"No maintenance requests",description:"There are no maintenance requests for the selected period."}):(0,Wa.jsx)(ci,{tickets:n})]})]})},di=ts("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),hi=ts("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),fi=ts("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),pi=ts("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),mi=ts("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),gi=ts("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),yi=ts("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),vi=ts("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const bi=function(e){var t,n,a;let{isOpen:s,onClose:i,tenant:o}=e;const{profile:l,role:c}=Ka(),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)([]),[y,v]=(0,r.useState)(null),[b,w]=(0,r.useState)(!0),[x,k]=(0,r.useState)(!1),[_,j]=(0,r.useState)(null),[S,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s&&null!==o&&void 0!==o&&o.tenant_id&&E()},[s,o]);const E=async()=>{if(null!==o&&void 0!==o&&o.tenant_id){h(!0);try{let t=Ha.from("reports").select("*").eq("tenant_id",o.tenant_id).order("created_at",{ascending:!1});"manager"===c&&null!==l&&void 0!==l&&l.organization_ids&&(t=t.in("organization_id",l.organization_ids));const{data:n,error:r}=await t;if(r)throw r;let a=null;try{const{data:t,error:n}=await Ha.from("users").select("*, unit:unit(unit_number)").eq("id",o.tenant_id).single();var e;if(!n&&t)a={unit_number:null===(e=t.unit)||void 0===e?void 0:e.unit_number,role:t.role}}catch(ji){console.log("Could not fetch user details:",ji)}const s=[...new Set(null===n||void 0===n?void 0:n.map(e=>e.unit).filter(Boolean))];p(u(u({},o),{},{units:s,userInfo:a})),g(n||[]),v(a)}catch(t){console.error("Error fetching tenant details:",t)}finally{h(!1)}}},C=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},T=e=>{switch(e){case"open":return(0,Wa.jsx)(Qs,{size:16,className:"text-error-500"});case"in-progress":return(0,Wa.jsx)(xs,{size:16,className:"text-warning-500"});case"resolved":return(0,Wa.jsx)(Zs,{size:16,className:"text-success-500"});case"closed":case"cancelled":return(0,Wa.jsx)(mi,{size:16,className:"text-secondary-500"});default:return(0,Wa.jsx)(gi,{size:16,className:"text-secondary-500"})}},O=m.filter(e=>"open"===e.status||"in-progress"===e.status),P=m.filter(e=>"closed"===e.status||"cancelled"===e.status||"resolved"===e.status),R=e=>{let{title:t,count:n,isExpanded:r,onToggle:a,children:s}=e;return(0,Wa.jsxs)("div",{className:"border border-secondary-200 rounded-lg overflow-hidden",children:[(0,Wa.jsxs)("button",{onClick:a,className:"w-full flex items-center justify-between p-4 bg-secondary-50 hover:bg-secondary-100 transition-colors text-left",children:[(0,Wa.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Wa.jsx)("span",{className:"font-semibold text-secondary-800",children:t}),(0,Wa.jsx)(Fs,{variant:"secondary",children:n})]}),r?(0,Wa.jsx)(yi,{size:20,className:"text-secondary-500"}):(0,Wa.jsx)(vi,{size:20,className:"text-secondary-500"})]}),r&&(0,Wa.jsx)("div",{className:"p-4 bg-white",children:s})]})},A=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})},z=e=>{const t=(e=>({id:e.id,title:e.title||"No Title",date:A(e.created_at),unit:e.unit,severity:e.severity,status:e.status||"open",description:e.description,image_urls:e.image_urls||[],created_at:e.created_at,updated_at:e.updated_at,closing_comment:e.closing_comment,closed_at:e.closed_at}))(e);j(t),N(!0)},I=e=>{let{report:t}=e;return(0,Wa.jsx)("div",{className:"border-b border-secondary-100 last:border-b-0 pb-3 last:pb-0 mb-3 last:mb-0 cursor-pointer hover:bg-secondary-50 transition-colors rounded px-2 -mx-2",onClick:()=>z(t),children:(0,Wa.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Wa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Wa.jsxs)("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[(0,Wa.jsx)("h5",{className:"font-medium text-secondary-800 truncate",children:t.title||"No Title"}),(0,Wa.jsx)(Fs,{variant:t.status||"open",size:"sm",children:t.status||"open"}),t.severity&&(0,Wa.jsx)(Fs,{variant:t.severity,size:"sm",children:t.severity})]}),t.description&&(0,Wa.jsx)("p",{className:"text-sm text-secondary-600 mb-1 line-clamp-1",children:t.description}),(0,Wa.jsxs)("div",{className:"flex items-center gap-3 text-xs text-secondary-500 flex-wrap",children:[t.unit&&(0,Wa.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Wa.jsx)(gs,{size:12}),"Unit ",t.unit]}),t.created_at&&(0,Wa.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Wa.jsx)(Ls,{size:12}),C(t.created_at)]})]})]}),(0,Wa.jsx)("div",{className:"flex-shrink-0",children:T(t.status)})]})})};return o?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)(Is,{isOpen:s,onClose:i,size:"xl",children:[(0,Wa.jsx)(Is.Header,{onClose:i,children:(0,Wa.jsx)(Is.Title,{children:"Tenant Details"})}),(0,Wa.jsx)(Is.Content,{children:d?(0,Wa.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Wa.jsx)("p",{className:"text-secondary-600",children:"Loading tenant details..."})}):(0,Wa.jsxs)("div",{className:"space-y-6",children:[(0,Wa.jsx)("div",{className:"bg-secondary-50 rounded-lg p-6",children:(0,Wa.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Wa.jsx)("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 text-white font-semibold text-xl shadow-lg",children:(null===(t=o.tenant_name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"T"}),(0,Wa.jsxs)("div",{className:"flex-1",children:[(0,Wa.jsx)("h3",{className:"text-2xl font-semibold text-secondary-800 mb-2",children:o.tenant_name||"Unknown Tenant"}),(0,Wa.jsxs)("div",{className:"space-y-2",children:[o.tenant_name&&o.tenant_name.includes("@")&&(0,Wa.jsxs)("div",{className:"flex items-center gap-2 text-secondary-600",children:[(0,Wa.jsx)(Ns,{size:16,className:"text-secondary-400"}),(0,Wa.jsx)("span",{className:"text-sm",children:o.tenant_name})]}),(null===f||void 0===f?void 0:f.units)&&f.units.length>0&&(0,Wa.jsxs)("div",{className:"flex items-center gap-2 text-secondary-600",children:[(0,Wa.jsx)(gs,{size:16,className:"text-secondary-400"}),(0,Wa.jsxs)("span",{className:"text-sm",children:["Units: ",f.units.join(", ")]})]}),(null===y||void 0===y?void 0:y.unit_number)&&(0,Wa.jsxs)("div",{className:"flex items-center gap-2 text-secondary-600",children:[(0,Wa.jsx)(us,{size:16,className:"text-secondary-400"}),(0,Wa.jsxs)("span",{className:"text-sm",children:["Primary Unit: ",y.unit_number]})]}),(null===y||void 0===y?void 0:y.role)&&(0,Wa.jsxs)("div",{className:"flex items-center gap-2 text-secondary-600",children:[(0,Wa.jsx)(As,{size:16,className:"text-secondary-400"}),(0,Wa.jsxs)("span",{className:"text-sm",children:["Role: ",y.role]})]}),m.length>0&&(null===(n=m[m.length-1])||void 0===n?void 0:n.created_at)&&(0,Wa.jsxs)("div",{className:"flex items-center gap-2 text-secondary-600",children:[(0,Wa.jsx)(Ls,{size:16,className:"text-secondary-400"}),(0,Wa.jsxs)("span",{className:"text-sm",children:["First report: ",(e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})(null===(a=m[m.length-1])||void 0===a?void 0:a.created_at)]})]})]})]})]})}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h4",{className:"text-lg font-semibold text-secondary-800 mb-4",children:"Reports"}),0===m.length?(0,Wa.jsxs)("div",{className:"bg-secondary-50 rounded-lg p-8 text-center",children:[(0,Wa.jsx)(gi,{size:48,className:"mx-auto text-secondary-400 mb-3"}),(0,Wa.jsx)("p",{className:"text-secondary-600",children:"No reports found for this tenant"})]}):(0,Wa.jsxs)("div",{className:"space-y-3",children:[O.length>0&&(0,Wa.jsx)(R,{title:"Open Reports",count:O.length,isExpanded:b,onToggle:()=>w(!b),children:(0,Wa.jsx)("div",{className:"space-y-0",children:O.map(e=>(0,Wa.jsx)(I,{report:e},e.id))})}),P.length>0&&(0,Wa.jsx)(R,{title:"Closed Reports",count:P.length,isExpanded:x,onToggle:()=>k(!x),children:(0,Wa.jsx)("div",{className:"space-y-0",children:P.map(e=>(0,Wa.jsx)(I,{report:e},e.id))})})]})]})]})}),(0,Wa.jsx)(Is.Footer,{children:(0,Wa.jsx)(is,{variant:"secondary",onClick:i,children:"Close"})})]}),(0,Wa.jsx)(ei,{isOpen:S,onClose:()=>{N(!1),j(null)},ticket:_,canEditStatus:"manager"===c})]}):null};const wi=function(){const{profile:e,role:t}=Ka(),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("tenant_name"),[p,m]=(0,r.useState)("asc"),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(null),w=(0,Wa.jsx)(Us,{navElements:[{name:"Dashboard",id:crypto.randomUUID(),icon:(0,Wa.jsx)(ai,{size:20}),path:"/manager/dashboard"},{name:"Tenants",id:crypto.randomUUID(),icon:(0,Wa.jsx)(vs,{size:20}),path:"/manager/tenants"},{name:"Maintenance",id:crypto.randomUUID(),icon:(0,Wa.jsx)(Ms,{size:20}),path:"/manager/reports"}]}),x=(0,r.useCallback)(async()=>{if(!t||e)try{let n=Ha.from("reports").select("tenant_id, tenant_name, unit, status");"manager"===t&&null!==e&&void 0!==e&&e.organization_ids&&(n=n.in("organization_id",e.organization_ids)),n=n.order("tenant_name",{ascending:!0});const{data:r,error:s}=await n;if(s)throw s;const o=new Map;r.forEach(e=>{o.has(e.tenant_id)||o.set(e.tenant_id,{tenant_id:e.tenant_id,tenant_name:e.tenant_name,units:new Set,totalReports:0,openReports:0});const t=o.get(e.tenant_id);t.units.add(e.unit),t.totalReports+=1,"open"===e.status&&(t.openReports+=1)});const l=Array.from(o.values()).map(e=>u(u({},e),{},{units:Array.from(e.units).join(", ")}));a(l),i(!1)}catch(n){l("Failed to load tenants"),i(!1)}},[e,t]),k=e=>{h===e?m("asc"===p?"desc":"asc"):(f(e),m("asc"))},_=e=>h!==e?(0,Wa.jsx)(di,{size:16,className:"text-secondary-400"}):"asc"===p?(0,Wa.jsx)(hi,{size:16,className:"text-primary"}):(0,Wa.jsx)(fi,{size:16,className:"text-primary"}),j=n.filter(e=>{var t;return null===(t=e.tenant_name)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase())}).sort((e,t)=>{let n=e[h],r=t[h];return"tenant_name"===h&&(n=(n||"").toLowerCase(),r=(r||"").toLowerCase()),n<r?"asc"===p?-1:1:n>r?"asc"===p?1:-1:0});(0,r.useEffect)(()=>{document.title="Tenants - Villa",x();const e=Ha.channel("tenants-changes").on("postgres_changes",{event:"*",schema:"public",table:"reports"},()=>{x()}).subscribe();return()=>{Ha.removeChannel(e)}},[x]);const{loading:S}=Ka();return s||S?(0,Wa.jsxs)("div",{className:"flex min-h-screen",children:[w,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"Tenants"}),(0,Wa.jsx)("p",{className:"text-secondary-600",children:"Loading tenants..."})]})]}):o?(0,Wa.jsxs)("div",{className:"flex min-h-screen",children:[w,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"Tenants"}),(0,Wa.jsx)("p",{className:"text-error-600",children:o})]})]}):(0,Wa.jsxs)("div",{className:"flex min-h-screen",children:[w,(0,Wa.jsxs)("div",{className:"ml-315 p-10 bg-background min-h-screen flex-1",children:[(0,Wa.jsx)(Ys,{title:"Tenants"}),0===n.length?(0,Wa.jsx)(qs,{icon:(0,Wa.jsx)(vs,{size:48}),title:"No tenants found",description:"There are no tenants with maintenance requests at this time."}):(0,Wa.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,Wa.jsxs)("div",{className:"relative max-w-md",children:[(0,Wa.jsx)("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:(0,Wa.jsx)(pi,{size:20,className:"text-secondary-400"})}),(0,Wa.jsx)("input",{type:"text",placeholder:"Search tenants...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-secondary-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-smooth bg-white"})]}),(0,Wa.jsxs)("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden shadow-sm",children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{className:"bg-secondary-50 border-b-2 border-secondary-200",children:[(0,Wa.jsx)("th",{className:"p-4 text-left font-semibold text-secondary-800 cursor-pointer hover:bg-secondary-100 transition-smooth select-none",onClick:()=>k("tenant_name"),children:(0,Wa.jsxs)("div",{className:"flex items-center gap-2",children:["Tenant Name",_("tenant_name")]})}),(0,Wa.jsx)("th",{className:"p-4 text-left font-semibold text-secondary-800",children:"Units"}),(0,Wa.jsx)("th",{className:"p-4 text-center font-semibold text-secondary-800 cursor-pointer hover:bg-secondary-100 transition-smooth select-none",onClick:()=>k("openReports"),children:(0,Wa.jsxs)("div",{className:"flex items-center justify-center gap-2",children:["Open Reports",_("openReports")]})}),(0,Wa.jsx)("th",{className:"p-4 text-center font-semibold text-secondary-800 cursor-pointer hover:bg-secondary-100 transition-smooth select-none",onClick:()=>k("totalReports"),children:(0,Wa.jsxs)("div",{className:"flex items-center justify-center gap-2",children:["Total Reports",_("totalReports")]})})]})}),(0,Wa.jsx)("tbody",{children:j.map((e,t)=>(0,Wa.jsxs)("tr",{className:"border-b border-secondary-200 last:border-b-0 ".concat(t%2===0?"bg-white":"bg-secondary-25"),onClick:()=>(e=>{b(e),y(!0)})(e),style:{cursor:"pointer"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="",children:[(0,Wa.jsx)("td",{className:"p-4 text-secondary-800",children:e.tenant_name||"Unknown"}),(0,Wa.jsx)("td",{className:"p-4 text-secondary-600",children:e.units}),(0,Wa.jsx)("td",{className:"p-4 text-center",children:(0,Wa.jsx)("span",{className:"inline-block px-3 py-1 rounded-full font-semibold text-sm ".concat(e.openReports>0?"bg-error-100 text-error-700":"bg-success-100 text-success-700"),children:e.openReports})}),(0,Wa.jsx)("td",{className:"p-4 text-center text-secondary-600",children:e.totalReports})]},e.tenant_id))})]})]})]}),(0,Wa.jsx)(bi,{isOpen:g,onClose:()=>{b(null),y(!1)},tenant:v})]})};function xi(){const{user:e,role:t,loading:n}=Ka();if(n)return(0,Wa.jsx)("div",{children:"Loading..."});if(!e)return(0,Wa.jsx)(ks,{});const r="manager"===t?"/manager/dashboard":"/tenant/dashboard";return(0,Wa.jsx)(Re,{to:r,replace:!0})}const ki=function(){return(0,Wa.jsx)(as,{children:(0,Wa.jsx)(pt,{children:(0,Wa.jsx)($a,{children:(0,Wa.jsxs)(Ie,{children:[(0,Wa.jsx)(Ae,{path:"/",element:(0,Wa.jsx)(xi,{})}),(0,Wa.jsx)(Ae,{path:"/landing",element:(0,Wa.jsx)(ks,{})}),(0,Wa.jsx)(Ae,{path:"/signin",element:(0,Wa.jsx)(Es,{})}),(0,Wa.jsx)(Ae,{path:"/quote",element:(0,Wa.jsx)(Os,{})}),(0,Wa.jsx)(Ae,{path:"/tenant/dashboard",element:(0,Wa.jsx)(Ja,{requireRole:"tenant",children:(0,Wa.jsx)(ti,{})})}),(0,Wa.jsx)(Ae,{path:"/tenant/reports",element:(0,Wa.jsx)(Ja,{requireRole:"tenant",children:(0,Wa.jsx)(ni,{})})}),(0,Wa.jsx)(Ae,{path:"/tenant/payments",element:(0,Wa.jsx)(Ja,{requireRole:"tenant",children:(0,Wa.jsx)(ri,{})})}),(0,Wa.jsx)(Ae,{path:"/manager/dashboard",element:(0,Wa.jsx)(Ja,{requireRole:"manager",children:(0,Wa.jsx)(oi,{})})}),(0,Wa.jsx)(Ae,{path:"/manager/tenants",element:(0,Wa.jsx)(Ja,{requireRole:"manager",children:(0,Wa.jsx)(wi,{})})}),(0,Wa.jsx)(Ae,{path:"/manager/reports",element:(0,Wa.jsx)(Ja,{requireRole:"manager",children:(0,Wa.jsx)(ui,{})})}),(0,Wa.jsx)(Ae,{path:"*",element:(0,Wa.jsx)(Re,{to:"/",replace:!0})})]})})})})},_i=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:s,getTTFB:i}=t;n(e),r(e),a(e),s(e),i(e)})};a.createRoot(document.getElementById("root")).render((0,Wa.jsx)(r.StrictMode,{children:(0,Wa.jsx)(ki,{})})),_i()})();
//# sourceMappingURL=main.4ae5833d.js.map